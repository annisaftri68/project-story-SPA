/*! For license information please see bundle.48a9a6e8ff8878615c48.js.LICENSE.txt */
(()=>{var t={56:(t,n,e)=>{"use strict";t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},72:t=>{"use strict";var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var i={},u=[],a=0;a<t.length;a++){var c=t[a],f=r.base?c[0]+r.base:c[0],s=i[f]||0,l="".concat(f," ").concat(s);i[f]=s+1;var p=e(l),v={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(v);else{var y=o(v,r);r.byIndex=a,n.splice(a,0,{identifier:l,updater:y,references:1})}u.push(l)}return u}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var u=0;u<i.length;u++){var a=e(i[u]);n[a].references--}for(var c=r(t,o),f=0;f<i.length;f++){var s=e(i[f]);0===n[s].references&&(n[s].updater(),n.splice(s,1))}i=c}}},113:t=>{"use strict";t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},249:(t,n,e)=>{"use strict";e.d(n,{A:()=>a});var r=e(601),o=e.n(r),i=e(314),u=e.n(i)()(o());u.push([t.id,"/* ======= Reset dan Umum ======= */\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  margin: 0;\n  padding: 0;\n  background: #f9f9f9;\n  color: #333;\n  line-height: 1.6;\n}\n\n/* ======= Skip to Content ======= */\n.skip-link {\n  position: absolute;\n  left: -999px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\n.skip-link:focus {\n  position: fixed;\n  left: 10px;\n  top: 10px;\n  z-index: 1000;\n  background: #ffeb3b;\n  padding: 10px;\n  font-weight: bold;\n  color: #000;\n  border-radius: 5px;\n}\n\n/* ======= Navbar ======= */\nnav {\n  background-color: #007bff;\n  padding: 1rem 2rem;\n  display: flex;\n  gap: 1.5rem;\n  align-items: center;\n  box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\nnav a {\n  color: #fff;\n  text-decoration: none;\n  font-weight: 600;\n  transition: color 0.3s ease;\n}\n\nnav a:hover,\nnav a:focus {\n  color: #ffd54f;\n  outline: none;\n}\n\n/* ======= Konten Utama ======= */\n#app {\n  max-width: 1200px;\n  margin: 2rem auto;\n  padding: 0 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeSlideIn 0.5s ease-out forwards;\n}\n\n/* Transisi Halaman */\n@keyframes fadeSlideIn {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ======= Daftar Produk / Cerita ======= */\n.product-list,\n.story-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 1.5rem;\n  margin-top: 1rem;\n}\n\n.product-item,\n.story-item {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.product-item:hover,\n.story-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n.product-item img,\n.story-item img {\n  width: 100%;\n  height: 180px;\n  object-fit: cover;\n  border-radius: 6px;\n  margin-bottom: 0.5rem;\n}\n\n.product-item h3,\n.story-item h3 {\n  margin: 0.5rem 0;\n  font-size: 1.2rem;\n}\n\n/* ======= Form Tambah ======= */\n.add-product-form {\n  background: white;\n  padding: 2rem;\n  border-radius: 10px;\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  margin: 2rem auto;\n}\n\n.add-product-form label {\n  display: block;\n  margin-top: 1rem;\n  font-weight: 600;\n}\n\n.add-product-form input,\n.add-product-form textarea {\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  margin-top: 0.3rem;\n}\n\n.add-product-form button {\n  margin-top: 1rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.25rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s;\n}\n\n.add-product-form button:hover {\n  background-color: #0056b3;\n}\n\n/* ======= Kamera ======= */\n#camera,\n#snapshot {\n  width: 100%;\n  border-radius: 8px;\n  margin: 1rem 0;\n}\n\n#snapshot {\n  display: none;\n}\n\n/* ======= Map Picker ======= */\n#mapPicker {\n  width: 100%;\n  height: 250px;\n  margin-top: 1rem;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n}\n\n/* ======= Map di Halaman Utama ======= */\n#product-map {\n  width: 100%;\n  height: 300px;\n  border-radius: 10px;\n  margin-top: 2rem;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* ======= Responsif ======= */\n@media (max-width: 768px) {\n  nav {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .add-product-form {\n    margin: 1rem;\n    padding: 1.5rem;\n  }\n .delete-button {\n  margin-top: 10px;\n  padding: 0.5rem 1rem;\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.delete-button:hover {\n  background-color: #b02a37;\n}\n}\n",""]);const a=u},314:t=>{"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var u={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(u[c]=!0)}for(var f=0;f<t.length;f++){var s=[].concat(t[f]);r&&u[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),e&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=e):s[2]=e),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),n.push(s))}},n}},540:t=>{"use strict";t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},601:t=>{"use strict";t.exports=function(t){return t[1]}},659:t=>{"use strict";var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},963:()=>{function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(){"use strict";var t=a(),c=t.m(n),s=(Object.getPrototypeOf?Object.getPrototypeOf(c):c.__proto__).constructor;function l(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===s||"GeneratorFunction"===(n.displayName||n.name))}var p={throw:1,return:2,break:3,continue:3};function v(t){var n,r;return function(o){n||(n={stop:function(){return r(o.a,2)},catch:function(){return o.v},abrupt:function(t,n){return r(o.a,p[t],n)},delegateYield:function(t,i,u){return n.resultName=i,r(o.d,e(t),u)},finish:function(t){return r(o.f,t)}},r=function(t,e,r){o.p=n.prev,o.n=n.next;try{return t(e,r)}finally{n.next=o.n}}),n.resultName&&(n[n.resultName]=o.v,n.resultName=void 0),n.sent=o.v,n.next=o.n;try{return t.call(this,n)}finally{o.p=n.prev,o.n=n.next}}}return(n=function(){return{wrap:function(n,e,r,o){return t.w(v(n),e,r,o&&o.reverse())},isGeneratorFunction:l,mark:t.m,awrap:function(t,n){return new f(t,n)},AsyncIterator:u,async:function(t,n,e,r,u){return(l(n)?i:o)(v(t),n,e,r,u)},keys:r,values:e}})()}function e(n){if(null!=n){var e=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}}throw new TypeError(t(n)+" is not iterable")}function r(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function o(t,n,e,r,o){var u=i(t,n,e,r,o);return u.next().then((function(t){return t.done?t.value:u.next()}))}function i(t,n,e,r,o){return new u(a().w(t,n,e,r),o||Promise)}function u(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof f?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(c(u.prototype),c(u.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),c(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function a(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var a=r&&r.prototype instanceof f?r:f,s=Object.create(a.prototype);return c(s,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),s}var u={};function f(){}function s(){}function l(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(c(n={},r,(function(){return this})),n),v=l.prototype=f.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,c(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=l,c(v,"constructor",l),c(l,"constructor",s),s.displayName="GeneratorFunction",c(l,o,"GeneratorFunction"),c(v),c(v,o,"Generator"),c(v,r,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),(a=function(){return{w:i,m:y}})()}function c(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){c(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},c(t,n,e,r)}function f(t,n){this.v=t,this.k=n}function s(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){s(i,r,o,u,a,"next",t)}function a(t){s(i,r,o,u,a,"throw",t)}u(void 0)}))}}"serviceWorker"in navigator&&window.addEventListener("load",l(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("./sw.js",{scope:"./"});case 3:e=t.sent,console.log("Service Worker registered:",e),e.waiting&&console.log("Ada versi baru service worker yang menunggu untuk diaktifkan."),e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("Konten baru tersedia. Silakan refresh halaman."):console.log("Konten tersedia untuk digunakan offline."))})},t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Gagal mendaftarkan Service Worker:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))))}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.nc=void 0,(()=>{"use strict";var t=e(72),n=e.n(t),r=e(825),o=e.n(r),i=e(659),u=e.n(i),a=e(56),c=e.n(a),f=e(540),s=e.n(f),l=e(113),p=e.n(l),v=e(249),y={};y.styleTagTransform=p(),y.setAttributes=c(),y.insert=u().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=s(),n()(v.A,y),v.A&&v.A.locals&&v.A.locals;const d=e.p+"assets/1b4d692409915a775c73.png";let h,m;const b=new WeakMap,w=new WeakMap,g=new WeakMap,x=new WeakMap,S=new WeakMap;let k={get(t,n,e){if(t instanceof IDBTransaction){if("done"===n)return w.get(t);if("objectStoreNames"===n)return t.objectStoreNames||g.get(t);if("store"===n)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return j(t[n])},set:(t,n,e)=>(t[n]=e,!0),has:(t,n)=>t instanceof IDBTransaction&&("done"===n||"store"===n)||n in t};function O(t){return"function"==typeof t?(n=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(m||(m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...t){return n.apply(P(this),t),j(b.get(this))}:function(...t){return j(n.apply(P(this),t))}:function(t,...e){const r=n.call(P(this),t,...e);return g.set(r,t.sort?t.sort():[t]),j(r)}:(t instanceof IDBTransaction&&function(t){if(w.has(t))return;const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),r()},i=()=>{e(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));w.set(t,n)}(t),e=t,(h||(h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,k):t);var n,e}function j(t){if(t instanceof IDBRequest)return function(t){const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(j(t.result)),r()},i=()=>{e(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return n.then((n=>{n instanceof IDBCursor&&b.set(n,t)})).catch((()=>{})),S.set(n,t),n}(t);if(x.has(t))return x.get(t);const n=O(t);return n!==t&&(x.set(t,n),S.set(n,t)),n}const P=t=>S.get(t),T=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],E=new Map;function N(t,n){if(!(t instanceof IDBDatabase)||n in t||"string"!=typeof n)return;if(E.get(n))return E.get(n);const e=n.replace(/FromIndex$/,""),r=n!==e,o=_.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!T.includes(e))return;const i=async function(t,...n){const i=this.transaction(t,o?"readwrite":"readonly");let u=i.store;return r&&(u=u.index(n.shift())),(await Promise.all([u[e](...n),o&&i.done]))[0]};return E.set(n,i),i}function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function I(){var t=B(),n=t.m(I),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,F(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(I=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new H(t,n)},AsyncIterator:D,async:function(t,n,e,o,u){return(r(n)?A:C)(i(t),n,e,o,u)},keys:L,values:F}})()}function F(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(G(t)+" is not iterable")}function L(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function C(t,n,e,r,o){var i=A(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function A(t,n,e,r,o){return new D(B().w(t,n,e,r),o||Promise)}function D(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof H?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(M(D.prototype),M(D.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),M(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function B(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return M(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(M(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,M(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,M(l,"constructor",f),M(f,"constructor",c),c.displayName="GeneratorFunction",M(f,o,"GeneratorFunction"),M(l),M(l,o,"Generator"),M(l,r,(function(){return this})),M(l,"toString",(function(){return"[object Generator]"})),(B=function(){return{w:i,m:p}})()}function M(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}M=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){M(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},M(t,n,e,r)}function H(t,n){this.v=t,this.k=n}function Y(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function q(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Y(i,r,o,u,a,"next",t)}function a(t){Y(i,r,o,u,a,"throw",t)}u(void 0)}))}}var R;R=k,k={...R,get:(t,n,e)=>N(t,n)||R.get(t,n,e),has:(t,n)=>!!N(t,n)||R.has(t,n)};var V=function(t,n,{blocked:e,upgrade:r,blocking:o,terminated:i}={}){const u=indexedDB.open(t,n),a=j(u);return r&&u.addEventListener("upgradeneeded",(t=>{r(j(u.result),t.oldVersion,t.newVersion,j(u.transaction),t)})),e&&u.addEventListener("blocked",(t=>e(t.oldVersion,t.newVersion,t))),a.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("galeri-cerita",1,{upgrade:function(t){t.objectStoreNames.contains("saved-stories")||t.createObjectStore("saved-stories",{keyPath:"id"})}}),W=function(){var t=q(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V;case 2:return t.abrupt("return",t.sent.put("saved-stories",n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),U=function(){var t=q(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V;case 2:return t.abrupt("return",t.sent.getAll("saved-stories"));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=q(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V;case 2:return t.abrupt("return",t.sent.delete("saved-stories",n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function J(){var t=nt(),n=t.m(J),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,$(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(J=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new rt(t,n)},AsyncIterator:tt,async:function(t,n,e,o,u){return(r(n)?Z:X)(i(t),n,e,o,u)},keys:Q,values:$}})()}function $(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(K(t)+" is not iterable")}function Q(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function X(t,n,e,r,o){var i=Z(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Z(t,n,e,r,o){return new tt(nt().w(t,n,e,r),o||Promise)}function tt(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof rt?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(et(tt.prototype),et(tt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),et(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function nt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return et(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(et(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,et(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,et(l,"constructor",f),et(f,"constructor",c),c.displayName="GeneratorFunction",et(f,o,"GeneratorFunction"),et(l),et(l,o,"Generator"),et(l,r,(function(){return this})),et(l,"toString",(function(){return"[object Generator]"})),(nt=function(){return{w:i,m:p}})()}function et(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}et=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){et(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},et(t,n,e,r)}function rt(t,n){this.v=t,this.k=n}function ot(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function it(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){ot(i,r,o,u,a,"next",t)}function a(t){ot(i,r,o,u,a,"throw",t)}u(void 0)}))}}function ut(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,at(r.key),r)}}function at(t){var n=function(t){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=K(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==K(n)?n:n+""}var ct=function(){return t=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n},(n=[{key:"showStories",value:function(t,n){this.container.innerHTML="";var e=document.createElement("div");e.className="story-list",t.forEach((function(t){var r=t.photoUrl||d,o=document.createElement("div");o.className="story-item",o.innerHTML='\n        <img src="'.concat(r,'" alt="').concat(t.name||"Cerita",'">\n        <h3>').concat(t.name||"Pengguna","</h3>\n        <p>").concat(t.description,"</p>\n      ");var i=document.createElement("button");i.innerText="Simpan",i.className="save-button",i.addEventListener("click",it(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W(t);case 2:alert("Cerita disimpan ke perangkat!");case 3:case"end":return n.stop()}}),n)}))));var u=document.createElement("button");u.innerText="Hapus",u.addEventListener("click",(function(){return n(t.id)})),o.append(i,u),e.append(o)})),this.container.append(e)}}])&&ut(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function st(){var t=ht(),n=t.m(st),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,lt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(st=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new bt(t,n)},AsyncIterator:dt,async:function(t,n,e,o,u){return(r(n)?yt:vt)(i(t),n,e,o,u)},keys:pt,values:lt}})()}function lt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(ft(t)+" is not iterable")}function pt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function vt(t,n,e,r,o){var i=yt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function yt(t,n,e,r,o){return new dt(ht().w(t,n,e,r),o||Promise)}function dt(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof bt?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(mt(dt.prototype),mt(dt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),mt(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function ht(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return mt(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(mt(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,mt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,mt(l,"constructor",f),mt(f,"constructor",c),c.displayName="GeneratorFunction",mt(f,o,"GeneratorFunction"),mt(l),mt(l,o,"Generator"),mt(l,r,(function(){return this})),mt(l,"toString",(function(){return"[object Generator]"})),(ht=function(){return{w:i,m:p}})()}function mt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}mt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){mt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},mt(t,n,e,r)}function bt(t,n){this.v=t,this.k=n}function wt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function gt(){return xt.apply(this,arguments)}function xt(){return(t=st().mark((function t(){var n,e,r;return st().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.next=3,fetch("".concat("https://story-api.dicoding.dev/v1","/stories"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if((e=t.sent).ok){t.next=9;break}return t.next=7,e.json();case 7:throw r=t.sent,new Error(r.message||"Gagal memuat data");case 9:return t.next=11,e.json();case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})),xt=function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){wt(i,r,o,u,a,"next",t)}function a(t){wt(i,r,o,u,a,"throw",t)}u(void 0)}))}).apply(this,arguments);var t}function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function kt(){var t=Et(),n=t.m(kt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Ot(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(kt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Gt(t,n)},AsyncIterator:_t,async:function(t,n,e,o,u){return(r(n)?Tt:Pt)(i(t),n,e,o,u)},keys:jt,values:Ot}})()}function Ot(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(St(t)+" is not iterable")}function jt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Pt(t,n,e,r,o){var i=Tt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Tt(t,n,e,r,o){return new _t(Et().w(t,n,e,r),o||Promise)}function _t(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Gt?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Nt(_t.prototype),Nt(_t.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Nt(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Et(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Nt(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Nt(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Nt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Nt(l,"constructor",f),Nt(f,"constructor",c),c.displayName="GeneratorFunction",Nt(f,o,"GeneratorFunction"),Nt(l),Nt(l,o,"Generator"),Nt(l,r,(function(){return this})),Nt(l,"toString",(function(){return"[object Generator]"})),(Et=function(){return{w:i,m:p}})()}function Nt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Nt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Nt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Nt(t,n,e,r)}function Gt(t,n){this.v=t,this.k=n}function It(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Ft(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){It(i,r,o,u,a,"next",t)}function a(t){It(i,r,o,u,a,"throw",t)}u(void 0)}))}}function Lt(){return Lt=Ft(kt().mark((function t(n){var e,r,o,i,u,a;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){return(a=Ft(kt().mark((function t(n){var r;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:return t.next=4,getAllStories();case 4:r=t.sent,e.showStories(r,u);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)},u=function(t){return a.apply(this,arguments)},(e=new ct(n)).showLoading(),t.prev=4,t.next=7,gt();case 7:r=t.sent,o=r.listStory,e.showStories(o,u),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(4),t.next=16,U();case 16:(i=t.sent).length?e.showStories(i,u):e.showError("Gagal memuat data");case 18:case"end":return t.stop()}}),t,null,[[4,12]])}))),Lt.apply(this,arguments)}function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function At(){var t=qt(),n=t.m(At),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Dt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(At=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Vt(t,n)},AsyncIterator:Yt,async:function(t,n,e,o,u){return(r(n)?Ht:Mt)(i(t),n,e,o,u)},keys:Bt,values:Dt}})()}function Dt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Ct(t)+" is not iterable")}function Bt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Mt(t,n,e,r,o){var i=Ht(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Ht(t,n,e,r,o){return new Yt(qt().w(t,n,e,r),o||Promise)}function Yt(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Vt?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Rt(Yt.prototype),Rt(Yt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Rt(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function qt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Rt(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Rt(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Rt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Rt(l,"constructor",f),Rt(f,"constructor",c),c.displayName="GeneratorFunction",Rt(f,o,"GeneratorFunction"),Rt(l),Rt(l,o,"Generator"),Rt(l,r,(function(){return this})),Rt(l,"toString",(function(){return"[object Generator]"})),(qt=function(){return{w:i,m:p}})()}function Rt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Rt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Rt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Rt(t,n,e,r)}function Vt(t,n){this.v=t,this.k=n}function Wt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Ut(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zt(r.key),r)}}function zt(t){var n=function(t){if("object"!=Ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Ct(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ct(n)?n:n+""}var Kt=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t,n){t.innerHTML='\n      <form id="add-story-form">\n        <h2>Tambah Cerita</h2>\n        <label>\n          Deskripsi:\n          <textarea name="description" required></textarea>\n        </label>\n\n        <label>\n          Lokasi:\n          <input type="text" name="lat" placeholder="Latitude" required />\n          <input type="text" name="lng" placeholder="Longitude" required />\n        </label>\n\n        <label>\n          Foto:\n          <input type="file" accept="image/*" capture="environment" name="photo" required />\n        </label>\n\n        <button type="submit">Kirim Cerita</button>\n      </form>\n    ';var e=t.querySelector("#add-story-form");e.addEventListener("submit",function(){var t,r=(t=At().mark((function t(r){var o,i,u,a,c;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),o=e.description.value.trim(),i=e.lat.value.trim(),u=e.lng.value.trim(),a=e.photo.files[0]){t.next=8;break}return alert("Mohon unggah foto."),t.abrupt("return");case 8:return t.next=10,Jt(a);case 10:c=t.sent,n({description:o,lat:i,lng:u,imageBlob:c});case 12:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Wt(i,r,o,u,a,"next",t)}function a(t){Wt(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return r.apply(this,arguments)}}())}}],n&&Ut(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Jt(t){return new Promise((function(n){var e=new FileReader;e.onloadend=function(){var r=new Blob([e.result],{type:t.type});n(r)},e.readAsArrayBuffer(t)}))}function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Qt(){var t=rn(),n=t.m(Qt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Xt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Qt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new un(t,n)},AsyncIterator:en,async:function(t,n,e,o,u){return(r(n)?nn:tn)(i(t),n,e,o,u)},keys:Zt,values:Xt}})()}function Xt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError($t(t)+" is not iterable")}function Zt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function tn(t,n,e,r,o){var i=nn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function nn(t,n,e,r,o){return new en(rn().w(t,n,e,r),o||Promise)}function en(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof un?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(on(en.prototype),on(en.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),on(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function rn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return on(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(on(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,on(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,on(l,"constructor",f),on(f,"constructor",c),c.displayName="GeneratorFunction",on(f,o,"GeneratorFunction"),on(l),on(l,o,"Generator"),on(l,r,(function(){return this})),on(l,"toString",(function(){return"[object Generator]"})),(rn=function(){return{w:i,m:p}})()}function on(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}on=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){on(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},on(t,n,e,r)}function un(t,n){this.v=t,this.k=n}function an(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function cn(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){an(i,r,o,u,a,"next",t)}function a(t){an(i,r,o,u,a,"throw",t)}u(void 0)}))}}var fn="https://story-api.dicoding.dev/v1";function sn(t){return ln.apply(this,arguments)}function ln(){return(ln=cn(Qt().mark((function t(n){var e,r,o,i;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.email,r=n.password,t.next=3,fetch("".concat(fn,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});case 3:return o=t.sent,t.next=6,o.json();case 6:if(i=t.sent,o.ok){t.next=9;break}throw new Error(i.message||"Login gagal");case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pn(t){return vn.apply(this,arguments)}function vn(){return(vn=cn(Qt().mark((function t(n){var e,r,o,i;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.name,r=n.email,o=n.password,t.next=3,fetch("".concat(fn,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:r,password:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yn(t){return dn.apply(this,arguments)}function dn(){return(dn=cn(Qt().mark((function t(n){var e,r,o,i,u,a,c,f;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.description,r=n.lat,o=n.lng,i=n.imageBlob,(u=new FormData).append("photo",i,"photo.jpg"),u.append("description",e),u.append("lat",r),u.append("lon",o),a=localStorage.getItem("token")){t.next=9;break}throw new Error("Token login tidak ditemukan");case 9:return t.next=11,fetch("".concat(fn,"/stories"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:u});case 11:return c=t.sent,t.next=14,c.json();case 14:if(f=t.sent,c.ok){t.next=17;break}throw new Error(f.message||"Gagal menambahkan cerita");case 17:return t.abrupt("return",f);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function mn(){var t=kn(),n=t.m(mn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,bn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(mn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new jn(t,n)},AsyncIterator:Sn,async:function(t,n,e,o,u){return(r(n)?xn:gn)(i(t),n,e,o,u)},keys:wn,values:bn}})()}function bn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(hn(t)+" is not iterable")}function wn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function gn(t,n,e,r,o){var i=xn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function xn(t,n,e,r,o){return new Sn(kn().w(t,n,e,r),o||Promise)}function Sn(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof jn?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(On(Sn.prototype),On(Sn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),On(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function kn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return On(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(On(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,On(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,On(l,"constructor",f),On(f,"constructor",c),c.displayName="GeneratorFunction",On(f,o,"GeneratorFunction"),On(l),On(l,o,"Generator"),On(l,r,(function(){return this})),On(l,"toString",(function(){return"[object Generator]"})),(kn=function(){return{w:i,m:p}})()}function On(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}On=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){On(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},On(t,n,e,r)}function jn(t,n){this.v=t,this.k=n}function Pn(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function _n(){var t=Ln(),n=t.m(_n),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,En(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(_n=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new An(t,n)},AsyncIterator:Fn,async:function(t,n,e,o,u){return(r(n)?In:Gn)(i(t),n,e,o,u)},keys:Nn,values:En}})()}function En(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Tn(t)+" is not iterable")}function Nn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Gn(t,n,e,r,o){var i=In(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function In(t,n,e,r,o){return new Fn(Ln().w(t,n,e,r),o||Promise)}function Fn(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof An?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Cn(Fn.prototype),Cn(Fn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Cn(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Ln(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Cn(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Cn(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Cn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Cn(l,"constructor",f),Cn(f,"constructor",c),c.displayName="GeneratorFunction",Cn(f,o,"GeneratorFunction"),Cn(l),Cn(l,o,"Generator"),Cn(l,r,(function(){return this})),Cn(l,"toString",(function(){return"[object Generator]"})),(Ln=function(){return{w:i,m:p}})()}function Cn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Cn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Cn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Cn(t,n,e,r)}function An(t,n){this.v=t,this.k=n}function Dn(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Bn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mn(r.key),r)}}function Mn(t){var n=function(t){if("object"!=Tn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Tn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tn(n)?n:n+""}var Hn=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t){var n=document.createElement("form");n.innerHTML='\n      <h2>Login</h2>\n      <label for="email">Email</label>\n      <input id="email" name="email" type="email" required />\n\n      <label for="password">Password</label>\n      <input id="password" name="password" type="password" required />\n\n      <button type="submit">Login</button>\n    ',n.addEventListener("submit",function(){var t,e=(t=_n().mark((function t(e){var r,o,i,u,a;return _n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=n.email.value,o=n.password.value,t.prev=3,t.next=6,fetch("https://story-api.dicoding.dev/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})});case 6:return u=t.sent,t.next=9,u.json();case 9:null!=(a=t.sent)&&null!==(i=a.loginResult)&&void 0!==i&&i.token?(localStorage.setItem("token",a.loginResult.token),alert("Login berhasil!"),window.location.hash="#/"):alert("Login gagal: "+(a.message||"Email/password salah")),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),alert("Terjadi kesalahan saat login: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Dn(i,r,o,u,a,"next",t)}function a(t){Dn(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t.appendChild(n)}}],n&&Bn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Yn(t){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(t)}function qn(){var t=Kn(),n=t.m(qn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Rn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(qn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new $n(t,n)},AsyncIterator:zn,async:function(t,n,e,o,u){return(r(n)?Un:Wn)(i(t),n,e,o,u)},keys:Vn,values:Rn}})()}function Rn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Yn(t)+" is not iterable")}function Vn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Wn(t,n,e,r,o){var i=Un(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Un(t,n,e,r,o){return new zn(Kn().w(t,n,e,r),o||Promise)}function zn(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof $n?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Jn(zn.prototype),Jn(zn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Jn(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Kn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Jn(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Jn(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Jn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Jn(l,"constructor",f),Jn(f,"constructor",c),c.displayName="GeneratorFunction",Jn(f,o,"GeneratorFunction"),Jn(l),Jn(l,o,"Generator"),Jn(l,r,(function(){return this})),Jn(l,"toString",(function(){return"[object Generator]"})),(Kn=function(){return{w:i,m:p}})()}function Jn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Jn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Jn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Jn(t,n,e,r)}function $n(t,n){this.v=t,this.k=n}function Qn(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Zn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,te(r.key),r)}}function te(t){var n=function(t){if("object"!=Xn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Xn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xn(n)?n:n+""}var ne=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t,n){var e=document.createElement("form");e.innerHTML='\n      <h2>Daftar Akun Baru</h2>\n\n      <label for="name">Nama Lengkap</label>\n      <input id="name" name="name" type="text" required />\n\n      <label for="email">Email</label>\n      <input id="email" name="email" type="email" required />\n\n      <label for="password">Password</label>\n      <input id="password" name="password" type="password" required />\n\n      <button type="submit">Daftar</button>\n    ',e.addEventListener("submit",(function(t){t.preventDefault();var r=e.name.value,o=e.email.value,i=e.password.value;n({name:r,email:o,password:i})})),t.appendChild(e)}}],n&&Zn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(){var t=fe(),n=t.m(re),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,oe(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(re=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new le(t,n)},AsyncIterator:ce,async:function(t,n,e,o,u){return(r(n)?ae:ue)(i(t),n,e,o,u)},keys:ie,values:oe}})()}function oe(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(ee(t)+" is not iterable")}function ie(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ue(t,n,e,r,o){var i=ae(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ae(t,n,e,r,o){return new ce(fe().w(t,n,e,r),o||Promise)}function ce(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof le?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(se(ce.prototype),se(ce.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),se(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function fe(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return se(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(se(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,se(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,se(l,"constructor",f),se(f,"constructor",c),c.displayName="GeneratorFunction",se(f,o,"GeneratorFunction"),se(l),se(l,o,"Generator"),se(l,r,(function(){return this})),se(l,"toString",(function(){return"[object Generator]"})),(fe=function(){return{w:i,m:p}})()}function se(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}se=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){se(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},se(t,n,e,r)}function le(t,n){this.v=t,this.k=n}function pe(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function ye(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,de(r.key),r)}}function de(t){var n=function(t){if("object"!=ve(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=ve(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ve(n)?n:n+""}var he=function(){return t=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n},(n=[{key:"showStories",value:function(t){if(this.container.innerHTML="<h2>Saved Stories</h2>",0!==t.length){var n=document.createElement("div");n.className="story-list",t.forEach((function(t){var e=document.createElement("div");e.className="story-item",e.innerHTML='\n        <img src="'.concat(t.photoUrl,'" alt="').concat(t.description,'" />\n        <h3>').concat(t.name,"</h3>\n        <p>").concat(t.description,"</p>\n      "),n.appendChild(e)})),this.container.appendChild(n)}else this.container.innerHTML+="<p>Belum ada cerita yang disimpan.</p>"}}])&&ye(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function be(){var t=Oe(),n=t.m(be),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,we(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(be=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Pe(t,n)},AsyncIterator:ke,async:function(t,n,e,o,u){return(r(n)?Se:xe)(i(t),n,e,o,u)},keys:ge,values:we}})()}function we(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(me(t)+" is not iterable")}function ge(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function xe(t,n,e,r,o){var i=Se(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Se(t,n,e,r,o){return new ke(Oe().w(t,n,e,r),o||Promise)}function ke(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Pe?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(je(ke.prototype),je(ke.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),je(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function Oe(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return je(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(je(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,je(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,je(l,"constructor",f),je(f,"constructor",c),c.displayName="GeneratorFunction",je(f,o,"GeneratorFunction"),je(l),je(l,o,"Generator"),je(l,r,(function(){return this})),je(l,"toString",(function(){return"[object Generator]"})),(Oe=function(){return{w:i,m:p}})()}function je(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}je=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){je(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},je(t,n,e,r)}function Pe(t,n){this.v=t,this.k=n}function Te(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function _e(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Te(i,r,o,u,a,"next",t)}function a(t){Te(i,r,o,u,a,"throw",t)}u(void 0)}))}}function Ee(t){return Ne.apply(this,arguments)}function Ne(){return Ne=_e(be().mark((function t(n){var e,r;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new he(n)).render(),t.prev=2,t.next=5,U();case 5:r=t.sent,e.showStories(r),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Gagal memuat data tersimpan:",t.t0),e.showError("Gagal memuat data tersimpan.");case 13:n.addEventListener("click",function(){var t=_e(be().mark((function t(n){var r,o;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.classList.contains("delete-story")){t.next=8;break}return r=n.target.dataset.id,t.next=4,z(r);case 4:return t.next=6,U();case 6:o=t.sent,e.showStories(o);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),Ne.apply(this,arguments)}function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function Ie(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fe(r.key),r)}}function Fe(t){var n=function(t){if("object"!=Ge(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Ge(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ge(n)?n:n+""}var Le=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},(n=[{key:"render",value:function(t){t.innerHTML='\n      <h2>404 - Halaman Tidak Ditemukan</h2>\n      <p>Halaman yang kamu cari tidak tersedia.</p>\n      <a href="#/">Kembali ke Beranda</a>\n    '}}])&&Ie(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ae(){var t=qe(),n=t.m(Ae),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,De(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Ae=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ve(t,n)},AsyncIterator:Ye,async:function(t,n,e,o,u){return(r(n)?He:Me)(i(t),n,e,o,u)},keys:Be,values:De}})()}function De(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Ce(t)+" is not iterable")}function Be(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Me(t,n,e,r,o){var i=He(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function He(t,n,e,r,o){return new Ye(qe().w(t,n,e,r),o||Promise)}function Ye(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof Ve?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(Re(Ye.prototype),Re(Ye.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Re(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function qe(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return Re(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Re(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Re(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Re(l,"constructor",f),Re(f,"constructor",c),c.displayName="GeneratorFunction",Re(f,o,"GeneratorFunction"),Re(l),Re(l,o,"Generator"),Re(l,r,(function(){return this})),Re(l,"toString",(function(){return"[object Generator]"})),(qe=function(){return{w:i,m:p}})()}function Re(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Re=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Re(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Re(t,n,e,r)}function Ve(t,n){this.v=t,this.k=n}function We(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var Ue={"#/":function(t){return Lt.apply(this,arguments)},"#/add":function(t){(new Kt).render(t,function(){var t,n=(t=mn().mark((function t(n){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.imageBlob){t.next=3;break}throw new Error("Foto tidak ditemukan atau tidak valid");case 3:return t.next=5,yn({description:n.description,lat:n.lat,lng:n.lng,imageBlob:n.imageBlob});case 5:return t.next=7,W({id:Date.now(),description:n.description,lat:n.lat,lng:n.lng,createdAt:(new Date).toISOString()});case 7:alert("Cerita berhasil ditambahkan!"),window.location.hash="#/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert("Gagal menambahkan cerita: "+t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Pn(i,r,o,u,a,"next",t)}function a(t){Pn(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/login":function(t){(new Hn).render(t,function(){var t,n=(t=qn().mark((function t(n){var e,r,o,i;return qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.email,r=n.password,e.trim()&&r.trim()){t.next=4;break}return alert("Email dan password tidak boleh kosong."),t.abrupt("return");case 4:return t.prev=4,t.next=7,sn({email:e,password:r});case 7:i=t.sent,console.log("DEBUG LOGIN:",i),!1===(null==i?void 0:i.error)&&null!=i&&null!==(o=i.loginResult)&&void 0!==o&&o.token?(localStorage.setItem("token",i.loginResult.token),alert("Login berhasil!"),window.location.hash="#/"):alert("Login gagal: "+(i.message||"Email/password salah")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),console.error("Login error:",t.t0),alert("Terjadi kesalahan saat login: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){Qn(i,r,o,u,a,"next",t)}function a(t){Qn(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/register":function(t){(new ne).render(t,function(){var t,n=(t=re().mark((function t(n){var e,r,o,i;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.name,r=n.email,o=n.password,t.prev=1,console.log("Data dikirim:",{name:e,email:r,password:o}),t.next=5,pn({name:e,email:r,password:o});case 5:if(i=t.sent,console.log("Respon dari API:",i),!0!==i.error){t.next=9;break}return t.abrupt("return",alert("Gagal daftar: "+(i.message||"Cek kembali input")));case 9:alert("Registrasi berhasil! Silakan login."),window.location.hash="#/login",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),alert("Terjadi kesalahan saat registrasi: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){pe(i,r,o,u,a,"next",t)}function a(t){pe(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/saved":Ee},ze=document.getElementById("app");function Ke(){return Je.apply(this,arguments)}function Je(){var t;return t=Ae().mark((function t(){var n,e,r,o,i;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.location.hash||"#/",e=localStorage.getItem("token"),r=["#/login","#/register"].includes(n),e||r){t.next=6;break}return window.location.hash="#/login",t.abrupt("return");case 6:if(o=Ue[n],ze.innerHTML="",console.log("Routing ke:",n,"Presenter:",o),"function"!=typeof o){t.next=16;break}if(!((i=o(ze))instanceof Promise)){t.next=14;break}return t.next=14,i;case 14:t.next=17;break;case 16:(new Le).render(ze);case 17:case"end":return t.stop()}}),t)})),Je=function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){We(i,r,o,u,a,"next",t)}function a(t){We(i,r,o,u,a,"throw",t)}u(void 0)}))},Je.apply(this,arguments)}function $e(t){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(t)}function Qe(){var t=rr(),n=t.m(Qe),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Xe(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Qe=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new ir(t,n)},AsyncIterator:er,async:function(t,n,e,o,u){return(r(n)?nr:tr)(i(t),n,e,o,u)},keys:Ze,values:Xe}})()}function Xe(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError($e(t)+" is not iterable")}function Ze(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function tr(t,n,e,r,o){var i=nr(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function nr(t,n,e,r,o){return new er(rr().w(t,n,e,r),o||Promise)}function er(t,n){function e(r,o,i,u){try{var a=t[r](o),c=a.value;return c instanceof ir?n.resolve(c.v).then((function(t){e("next",t,i,u)}),(function(t){e("throw",t,i,u)})):n.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return e("throw",t,i,u)}))}catch(t){u(t)}}var r;this.next||(or(er.prototype),or(er.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),or(this,"_invoke",(function(t,o,i){function u(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(u,u):u()}),!0)}function rr(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,f=Object.create(c.prototype);return or(f,"_invoke",function(e,r,o){var i,a,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function v(e,r){for(a=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(a=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),a=s,c=y;(n=a<2?t:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var u={};function a(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(or(n={},r,(function(){return this})),n),l=f.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,or(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,or(l,"constructor",f),or(f,"constructor",c),c.displayName="GeneratorFunction",or(f,o,"GeneratorFunction"),or(l),or(l,o,"Generator"),or(l,r,(function(){return this})),or(l,"toString",(function(){return"[object Generator]"})),(rr=function(){return{w:i,m:p}})()}function or(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}or=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){or(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},or(t,n,e,r)}function ir(t,n){this.v=t,this.k=n}function ur(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function ar(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){ur(i,r,o,u,a,"next",t)}function a(t){ur(i,r,o,u,a,"throw",t)}u(void 0)}))}}"startViewTransition"in document?window.addEventListener("hashchange",(function(){return document.startViewTransition(Ke)})):window.addEventListener("hashchange",Ke),window.addEventListener("route-change",Ke),window.dispatchEvent(new CustomEvent("route-change")),e(963),document.addEventListener("DOMContentLoaded",(function(){"default"===Notification.permission||"granted"===Notification.permission&&navigator.serviceWorker.ready.then((function(t){t.showNotification("Selamat datang kembali!")}))}));var cr=document.createElement("a");cr.href="#main-content",cr.className="skip-link",cr.innerText="Skip to Content",document.body.prepend(cr);var fr=document.querySelector("#main-content");function sr(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),e=atob(n),r=new Uint8Array(e.length),o=0;o<e.length;++o)r[o]=e.charCodeAt(o);return r}cr.addEventListener("click",(function(t){t.preventDefault(),cr.blur(),fr&&(fr.focus(),fr.scrollIntoView())})),"startViewTransition"in document?window.addEventListener("hashchange",(function(){document.startViewTransition((function(){window.dispatchEvent(new CustomEvent("route-change"))}))})):window.addEventListener("hashchange",(function(){window.dispatchEvent(new CustomEvent("route-change"))})),window.addEventListener("route-change",(function(){var t=document.getElementById("app");"#/saved"===window.location.hash&&(t.innerHTML="",Ee(t))})),window.dispatchEvent(new CustomEvent("route-change")),window.addEventListener("load",ar(Qe().mark((function t(){var n,e,r,o;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("serviceWorker"in navigator&&"PushManager"in window){t.next=3;break}return console.warn("Push notification tidak didukung browser ini."),t.abrupt("return");case 3:return t.prev=3,t.next=6,Notification.requestPermission();case 6:if("granted"===t.sent){t.next=10;break}return console.log("Izin notifikasi ditolak."),t.abrupt("return");case 10:return t.next=12,navigator.serviceWorker.ready;case 12:return n=t.sent,t.next=15,n.pushManager.getSubscription();case 15:if(e=t.sent){t.next=20;break}return t.next=19,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sr("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")});case 19:e=t.sent;case 20:return r=localStorage.getItem("token"),o=e.toJSON(),t.next=24,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(o)});case 24:console.log("Push subscription berhasil dan terkirim ke server"),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),console.error("Gagal mengaktifkan push notification:",t.t0);case 30:case"end":return t.stop()}}),t,null,[[3,27]])}))))})()})();