/*! For license information please see bundle.5c097a523dd5060e175f.js.LICENSE.txt */
(()=>{var t={56:(t,n,e)=>{"use strict";t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},72:t=>{"use strict";var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var i={},a=[],u=0;u<t.length;u++){var c=t[u],f=r.base?c[0]+r.base:c[0],s=i[f]||0,l="".concat(f," ").concat(s);i[f]=s+1;var p=e(l),v={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(v);else{var y=o(v,r);r.byIndex=u,n.splice(u,0,{identifier:l,updater:y,references:1})}a.push(l)}return a}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var u=e(i[a]);n[u].references--}for(var c=r(t,o),f=0;f<i.length;f++){var s=e(i[f]);0===n[s].references&&(n[s].updater(),n.splice(s,1))}i=c}}},113:t=>{"use strict";t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},249:(t,n,e)=>{"use strict";e.d(n,{A:()=>u});var r=e(601),o=e.n(r),i=e(314),a=e.n(i)()(o());a.push([t.id,"/* ======= Reset dan Umum ======= */\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  margin: 0;\n  padding: 0;\n  background: #f9f9f9;\n  color: #333;\n  line-height: 1.6;\n}\n\n/* ======= Skip to Content ======= */\n.skip-link {\n  position: absolute;\n  left: -999px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\n.skip-link:focus {\n  position: fixed;\n  left: 10px;\n  top: 10px;\n  z-index: 1000;\n  background: #ffeb3b;\n  padding: 10px;\n  font-weight: bold;\n  color: #000;\n  border-radius: 5px;\n}\n\n/* ======= Navbar ======= */\nnav {\n  background-color: #007bff;\n  padding: 1rem 2rem;\n  display: flex;\n  gap: 1.5rem;\n  align-items: center;\n  box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\nnav a {\n  color: #fff;\n  text-decoration: none;\n  font-weight: 600;\n  transition: color 0.3s ease;\n}\n\nnav a:hover,\nnav a:focus {\n  color: #ffd54f;\n  outline: none;\n}\n\n/* ======= Konten Utama ======= */\n#app {\n  max-width: 1200px;\n  margin: 2rem auto;\n  padding: 0 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeSlideIn 0.5s ease-out forwards;\n}\n\n/* Transisi Halaman */\n@keyframes fadeSlideIn {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ======= Daftar Produk / Cerita ======= */\n.product-list,\n.story-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 1.5rem;\n  margin-top: 1rem;\n}\n\n.product-item,\n.story-item {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.product-item:hover,\n.story-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n.product-item img,\n.story-item img {\n  width: 100%;\n  height: 180px;\n  object-fit: cover;\n  border-radius: 6px;\n  margin-bottom: 0.5rem;\n}\n\n.product-item h3,\n.story-item h3 {\n  margin: 0.5rem 0;\n  font-size: 1.2rem;\n}\n\n/* ======= Form Tambah ======= */\n.add-product-form {\n  background: white;\n  padding: 2rem;\n  border-radius: 10px;\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  margin: 2rem auto;\n}\n\n.add-product-form label {\n  display: block;\n  margin-top: 1rem;\n  font-weight: 600;\n}\n\n.add-product-form input,\n.add-product-form textarea {\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  margin-top: 0.3rem;\n}\n\n.add-product-form button {\n  margin-top: 1rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.25rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s;\n}\n\n.add-product-form button:hover {\n  background-color: #0056b3;\n}\n\n/* ======= Kamera ======= */\n#camera,\n#snapshot {\n  width: 100%;\n  border-radius: 8px;\n  margin: 1rem 0;\n}\n\n#snapshot {\n  display: none;\n}\n\n/* ======= Map Picker ======= */\n#mapPicker {\n  width: 100%;\n  height: 250px;\n  margin-top: 1rem;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n}\n\n/* ======= Map di Halaman Utama ======= */\n#product-map {\n  width: 100%;\n  height: 300px;\n  border-radius: 10px;\n  margin-top: 2rem;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* ======= Responsif ======= */\n@media (max-width: 768px) {\n  nav {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .add-product-form {\n    margin: 1rem;\n    padding: 1.5rem;\n  }\n .delete-button {\n  margin-top: 10px;\n  padding: 0.5rem 1rem;\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.delete-button:hover {\n  background-color: #b02a37;\n}\n}\n",""]);const u=a},314:t=>{"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var f=0;f<t.length;f++){var s=[].concat(t[f]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),e&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=e):s[2]=e),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),n.push(s))}},n}},540:t=>{"use strict";t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},601:t=>{"use strict";t.exports=function(t){return t[1]}},659:t=>{"use strict";var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},963:()=>{function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(){"use strict";var t=u(),c=t.m(n),s=(Object.getPrototypeOf?Object.getPrototypeOf(c):c.__proto__).constructor;function l(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===s||"GeneratorFunction"===(n.displayName||n.name))}var p={throw:1,return:2,break:3,continue:3};function v(t){var n,r;return function(o){n||(n={stop:function(){return r(o.a,2)},catch:function(){return o.v},abrupt:function(t,n){return r(o.a,p[t],n)},delegateYield:function(t,i,a){return n.resultName=i,r(o.d,e(t),a)},finish:function(t){return r(o.f,t)}},r=function(t,e,r){o.p=n.prev,o.n=n.next;try{return t(e,r)}finally{n.next=o.n}}),n.resultName&&(n[n.resultName]=o.v,n.resultName=void 0),n.sent=o.v,n.next=o.n;try{return t.call(this,n)}finally{o.p=n.prev,o.n=n.next}}}return(n=function(){return{wrap:function(n,e,r,o){return t.w(v(n),e,r,o&&o.reverse())},isGeneratorFunction:l,mark:t.m,awrap:function(t,n){return new f(t,n)},AsyncIterator:a,async:function(t,n,e,r,a){return(l(n)?i:o)(v(t),n,e,r,a)},keys:r,values:e}})()}function e(n){if(null!=n){var e=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}}throw new TypeError(t(n)+" is not iterable")}function r(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function o(t,n,e,r,o){var a=i(t,n,e,r,o);return a.next().then((function(t){return t.done?t.value:a.next()}))}function i(t,n,e,r,o){return new a(u().w(t,n,e,r),o||Promise)}function a(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof f?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(c(a.prototype),c(a.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),c(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function u(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var u=r&&r.prototype instanceof f?r:f,s=Object.create(u.prototype);return c(s,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),s}var a={};function f(){}function s(){}function l(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(c(n={},r,(function(){return this})),n),v=l.prototype=f.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,c(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=l,c(v,"constructor",l),c(l,"constructor",s),s.displayName="GeneratorFunction",c(l,o,"GeneratorFunction"),c(v),c(v,o,"Generator"),c(v,r,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m:y}})()}function c(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){c(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},c(t,n,e,r)}function f(t,n){this.v=t,this.k=n}function s(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}"serviceWorker"in navigator&&window.addEventListener("load",l(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("./sw.js",{scope:"./"});case 3:e=t.sent,console.log("Service Worker registered:",e),e.waiting&&console.log("Ada versi baru service worker yang menunggu untuk diaktifkan."),e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("Konten baru tersedia. Silakan refresh halaman."):console.log("Konten tersedia untuk digunakan offline."))})},t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Gagal mendaftarkan Service Worker:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))))}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.nc=void 0,(()=>{"use strict";var t=e(72),n=e.n(t),r=e(825),o=e.n(r),i=e(659),a=e.n(i),u=e(56),c=e.n(u),f=e(540),s=e.n(f),l=e(113),p=e.n(l),v=e(249),y={};let d,h;y.styleTagTransform=p(),y.setAttributes=c(),y.insert=a().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=s(),n()(v.A,y),v.A&&v.A.locals&&v.A.locals,e.p;const m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,x=new WeakMap;let S={get(t,n,e){if(t instanceof IDBTransaction){if("done"===n)return b.get(t);if("objectStoreNames"===n)return t.objectStoreNames||w.get(t);if("store"===n)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return O(t[n])},set:(t,n,e)=>(t[n]=e,!0),has:(t,n)=>t instanceof IDBTransaction&&("done"===n||"store"===n)||n in t};function k(t){return"function"==typeof t?(n=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...t){return n.apply(j(this),t),O(m.get(this))}:function(...t){return O(n.apply(j(this),t))}:function(t,...e){const r=n.call(j(this),t,...e);return w.set(r,t.sort?t.sort():[t]),O(r)}:(t instanceof IDBTransaction&&function(t){if(b.has(t))return;const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),r()},i=()=>{e(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));b.set(t,n)}(t),e=t,(d||(d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,S):t);var n,e}function O(t){if(t instanceof IDBRequest)return function(t){const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(O(t.result)),r()},i=()=>{e(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return n.then((n=>{n instanceof IDBCursor&&m.set(n,t)})).catch((()=>{})),x.set(n,t),n}(t);if(g.has(t))return g.get(t);const n=k(t);return n!==t&&(g.set(t,n),x.set(n,t)),n}const j=t=>x.get(t),P=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],T=new Map;function E(t,n){if(!(t instanceof IDBDatabase)||n in t||"string"!=typeof n)return;if(T.get(n))return T.get(n);const e=n.replace(/FromIndex$/,""),r=n!==e,o=_.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!P.includes(e))return;const i=async function(t,...n){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(n.shift())),(await Promise.all([a[e](...n),o&&i.done]))[0]};return T.set(n,i),i}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function G(){var t=C(),n=t.m(G),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,I(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(G=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new M(t,n)},AsyncIterator:D,async:function(t,n,e,o,a){return(r(n)?A:L)(i(t),n,e,o,a)},keys:F,values:I}})()}function I(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(N(t)+" is not iterable")}function F(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function L(t,n,e,r,o){var i=A(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function A(t,n,e,r,o){return new D(C().w(t,n,e,r),o||Promise)}function D(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof M?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(B(D.prototype),B(D.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),B(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function C(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return B(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(B(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,B(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,B(l,"constructor",f),B(f,"constructor",c),c.displayName="GeneratorFunction",B(f,o,"GeneratorFunction"),B(l),B(l,o,"Generator"),B(l,r,(function(){return this})),B(l,"toString",(function(){return"[object Generator]"})),(C=function(){return{w:i,m:p}})()}function B(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}B=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){B(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},B(t,n,e,r)}function M(t,n){this.v=t,this.k=n}function H(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function q(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){H(i,r,o,a,u,"next",t)}function u(t){H(i,r,o,a,u,"throw",t)}a(void 0)}))}}var Y;Y=S,S={...Y,get:(t,n,e)=>E(t,n)||Y.get(t,n,e),has:(t,n)=>!!E(t,n)||Y.has(t,n)};var R=function(t,n,{blocked:e,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,n),u=O(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(O(a.result),t.oldVersion,t.newVersion,O(a.transaction),t)})),e&&a.addEventListener("blocked",(t=>e(t.oldVersion,t.newVersion,t))),u.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),u}("galeri-cerita",1,{upgrade:function(t){t.objectStoreNames.contains("saved-stories")||t.createObjectStore("saved-stories",{keyPath:"id"})}}),V=function(){var t=q(G().mark((function t(n){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return t.abrupt("return",t.sent.put("saved-stories",n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),W=function(){var t=q(G().mark((function t(){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return t.abrupt("return",t.sent.getAll("saved-stories"));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=q(G().mark((function t(n){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return t.abrupt("return",t.sent.delete("saved-stories",n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function K(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function J(t){var n=function(t){if("object"!=U(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=U(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==U(n)?n:n+""}var $=function(){return t=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n},n=[{key:"setOnSaveListener",value:function(t){this._onSave=t}},{key:"setOnDeleteListener",value:function(t){this._onDelete=t}},{key:"showStories",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.map((function(t){var n=e.includes(t.id)?'<button class="unsave-button" data-id="'.concat(t.id,'">Hapus</button>'):'<button class="save-button" data-id="'.concat(t.id,'">Simpan</button>');return'\n        <article class="story-item">\n          '.concat(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return'\n    <div class="story-item">\n      <img src="'.concat(t.photoUrl,'" alt="').concat(t.name,'" class="story-img" loading="lazy" />\n      <div class="story-content">\n        <h3>').concat(t.name,"</h3>\n        <p>").concat(t.description,'</p>\n        <p class="story-date">').concat(new Date(t.createdAt).toLocaleString(),'</p>\n        <div class="story-actions">\n          ').concat(n?'<button class="delete-story" data-id="'.concat(t.id,'">🗑️ Hapus</button>'):'<button class="save-story" data-id="'.concat(t.id,"\" data-story='").concat(JSON.stringify(t),"'>💾 Simpan</button>"),"\n        </div>\n      </div>\n    </div>\n  ")}(t),'\n          <div class="story-actions">').concat(n,"</div>\n        </article>\n      ")})).join("");this.container.innerHTML=r,this.container.querySelectorAll(".save-button").forEach((function(t){t.addEventListener("click",(function(t){var e,r=t.target.dataset.id;null===(e=n._onSave)||void 0===e||e.call(n,r)}))})),this.container.querySelectorAll(".unsave-button").forEach((function(t){t.addEventListener("click",(function(t){var e,r=t.target.dataset.id;null===(e=n._onDelete)||void 0===e||e.call(n,r)}))}))}}],n&&K(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function X(){var t=ot(),n=t.m(X),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Z(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(X=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new at(t,n)},AsyncIterator:rt,async:function(t,n,e,o,a){return(r(n)?et:nt)(i(t),n,e,o,a)},keys:tt,values:Z}})()}function Z(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Q(t)+" is not iterable")}function tt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function nt(t,n,e,r,o){var i=et(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function et(t,n,e,r,o){return new rt(ot().w(t,n,e,r),o||Promise)}function rt(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof at?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(it(rt.prototype),it(rt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),it(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function ot(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return it(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(it(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,it(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,it(l,"constructor",f),it(f,"constructor",c),c.displayName="GeneratorFunction",it(f,o,"GeneratorFunction"),it(l),it(l,o,"Generator"),it(l,r,(function(){return this})),it(l,"toString",(function(){return"[object Generator]"})),(ot=function(){return{w:i,m:p}})()}function it(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}it=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){it(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},it(t,n,e,r)}function at(t,n){this.v=t,this.k=n}function ut(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function ct(){return ft.apply(this,arguments)}function ft(){return(t=X().mark((function t(){var n,e,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.next=3,fetch("".concat("https://story-api.dicoding.dev/v1","/stories"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if((e=t.sent).ok){t.next=9;break}return t.next=7,e.json();case 7:throw r=t.sent,new Error(r.message||"Gagal memuat data");case 9:return t.next=11,e.json();case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})),ft=function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){ut(i,r,o,a,u,"next",t)}function u(t){ut(i,r,o,a,u,"throw",t)}a(void 0)}))}).apply(this,arguments);var t}function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function lt(){var t=mt(),n=t.m(lt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,pt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(lt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new wt(t,n)},AsyncIterator:ht,async:function(t,n,e,o,a){return(r(n)?dt:yt)(i(t),n,e,o,a)},keys:vt,values:pt}})()}function pt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(st(t)+" is not iterable")}function vt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function yt(t,n,e,r,o){var i=dt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function dt(t,n,e,r,o){return new ht(mt().w(t,n,e,r),o||Promise)}function ht(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof wt?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(bt(ht.prototype),bt(ht.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),bt(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function mt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return bt(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(bt(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,bt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,bt(l,"constructor",f),bt(f,"constructor",c),c.displayName="GeneratorFunction",bt(f,o,"GeneratorFunction"),bt(l),bt(l,o,"Generator"),bt(l,r,(function(){return this})),bt(l,"toString",(function(){return"[object Generator]"})),(mt=function(){return{w:i,m:p}})()}function bt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}bt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){bt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},bt(t,n,e,r)}function wt(t,n){this.v=t,this.k=n}function gt(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function xt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){gt(i,r,o,a,u,"next",t)}function u(t){gt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function St(){return St=xt(lt().mark((function t(n){var e,r,o,i,a,u;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=xt(lt().mark((function t(n){var r;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:return t.next=4,getAllStories();case 4:r=t.sent,e.showStories(r,a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)},a=function(t){return u.apply(this,arguments)},(e=new $(n)).showLoading(),t.prev=4,t.next=7,ct();case 7:r=t.sent,o=r.listStory,e.showStories(o,a),t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(4),t.next=16,W();case 16:(i=t.sent).length?e.showStories(i,a):e.showError("Gagal memuat data");case 18:case"end":return t.stop()}}),t,null,[[4,12]])}))),St.apply(this,arguments)}function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Ot(){var t=Nt(),n=t.m(Ot),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,jt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Ot=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new It(t,n)},AsyncIterator:Et,async:function(t,n,e,o,a){return(r(n)?Tt:_t)(i(t),n,e,o,a)},keys:Pt,values:jt}})()}function jt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(kt(t)+" is not iterable")}function Pt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function _t(t,n,e,r,o){var i=Tt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Tt(t,n,e,r,o){return new Et(Nt().w(t,n,e,r),o||Promise)}function Et(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof It?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Gt(Et.prototype),Gt(Et.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Gt(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Nt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Gt(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Gt(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Gt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Gt(l,"constructor",f),Gt(f,"constructor",c),c.displayName="GeneratorFunction",Gt(f,o,"GeneratorFunction"),Gt(l),Gt(l,o,"Generator"),Gt(l,r,(function(){return this})),Gt(l,"toString",(function(){return"[object Generator]"})),(Nt=function(){return{w:i,m:p}})()}function Gt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Gt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Gt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Gt(t,n,e,r)}function It(t,n){this.v=t,this.k=n}function Ft(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Lt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,At(r.key),r)}}function At(t){var n=function(t){if("object"!=kt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=kt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kt(n)?n:n+""}var Dt=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t,n){t.innerHTML='\n      <form id="add-story-form">\n        <h2>Tambah Cerita</h2>\n        <label>\n          Deskripsi:\n          <textarea name="description" required></textarea>\n        </label>\n\n        <label>\n          Lokasi:\n          <input type="text" name="lat" placeholder="Latitude" required />\n          <input type="text" name="lng" placeholder="Longitude" required />\n        </label>\n\n        <label>\n          Foto:\n          <input type="file" accept="image/*" capture="environment" name="photo" required />\n        </label>\n\n        <button type="submit">Kirim Cerita</button>\n      </form>\n    ';var e=t.querySelector("#add-story-form");e.addEventListener("submit",function(){var t,r=(t=Ot().mark((function t(r){var o,i,a,u,c;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),o=e.description.value.trim(),i=e.lat.value.trim(),a=e.lng.value.trim(),u=e.photo.files[0]){t.next=8;break}return alert("Mohon unggah foto."),t.abrupt("return");case 8:return t.next=10,Ct(u);case 10:c=t.sent,n({description:o,lat:i,lng:a,imageBlob:c});case 12:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Ft(i,r,o,a,u,"next",t)}function u(t){Ft(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}())}}],n&&Lt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Ct(t){return new Promise((function(n){var e=new FileReader;e.onloadend=function(){var r=new Blob([e.result],{type:t.type});n(r)},e.readAsArrayBuffer(t)}))}function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Mt(){var t=Wt(),n=t.m(Mt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Ht(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Mt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ut(t,n)},AsyncIterator:Vt,async:function(t,n,e,o,a){return(r(n)?Rt:Yt)(i(t),n,e,o,a)},keys:qt,values:Ht}})()}function Ht(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Bt(t)+" is not iterable")}function qt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Yt(t,n,e,r,o){var i=Rt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Rt(t,n,e,r,o){return new Vt(Wt().w(t,n,e,r),o||Promise)}function Vt(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Ut?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(zt(Vt.prototype),zt(Vt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),zt(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Wt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return zt(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(zt(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,zt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,zt(l,"constructor",f),zt(f,"constructor",c),c.displayName="GeneratorFunction",zt(f,o,"GeneratorFunction"),zt(l),zt(l,o,"Generator"),zt(l,r,(function(){return this})),zt(l,"toString",(function(){return"[object Generator]"})),(Wt=function(){return{w:i,m:p}})()}function zt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}zt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){zt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},zt(t,n,e,r)}function Ut(t,n){this.v=t,this.k=n}function Kt(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Jt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Kt(i,r,o,a,u,"next",t)}function u(t){Kt(i,r,o,a,u,"throw",t)}a(void 0)}))}}var $t="https://story-api.dicoding.dev/v1";function Qt(t){return Xt.apply(this,arguments)}function Xt(){return(Xt=Jt(Mt().mark((function t(n){var e,r,o,i;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.email,r=n.password,t.next=3,fetch("".concat($t,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});case 3:return o=t.sent,t.next=6,o.json();case 6:if(i=t.sent,o.ok){t.next=9;break}throw new Error(i.message||"Login gagal");case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zt(t){return tn.apply(this,arguments)}function tn(){return(tn=Jt(Mt().mark((function t(n){var e,r,o,i;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.name,r=n.email,o=n.password,t.next=3,fetch("".concat($t,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:r,password:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nn(t){return en.apply(this,arguments)}function en(){return(en=Jt(Mt().mark((function t(n){var e,r,o,i,a,u,c,f;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.description,r=n.lat,o=n.lng,i=n.imageBlob,(a=new FormData).append("photo",i,"photo.jpg"),a.append("description",e),a.append("lat",r),a.append("lon",o),u=localStorage.getItem("token")){t.next=9;break}throw new Error("Token login tidak ditemukan");case 9:return t.next=11,fetch("".concat($t,"/stories"),{method:"POST",headers:{Authorization:"Bearer ".concat(u)},body:a});case 11:return c=t.sent,t.next=14,c.json();case 14:if(f=t.sent,c.ok){t.next=17;break}throw new Error(f.message||"Gagal menambahkan cerita");case 17:return t.abrupt("return",f);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(){var t=ln(),n=t.m(on),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,an(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(on=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new vn(t,n)},AsyncIterator:sn,async:function(t,n,e,o,a){return(r(n)?fn:cn)(i(t),n,e,o,a)},keys:un,values:an}})()}function an(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(rn(t)+" is not iterable")}function un(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function cn(t,n,e,r,o){var i=fn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function fn(t,n,e,r,o){return new sn(ln().w(t,n,e,r),o||Promise)}function sn(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof vn?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(pn(sn.prototype),pn(sn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),pn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function ln(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return pn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(pn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,pn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,pn(l,"constructor",f),pn(f,"constructor",c),c.displayName="GeneratorFunction",pn(f,o,"GeneratorFunction"),pn(l),pn(l,o,"Generator"),pn(l,r,(function(){return this})),pn(l,"toString",(function(){return"[object Generator]"})),(ln=function(){return{w:i,m:p}})()}function pn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}pn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){pn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},pn(t,n,e,r)}function vn(t,n){this.v=t,this.k=n}function yn(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}function hn(){var t=Sn(),n=t.m(hn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,mn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(hn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new On(t,n)},AsyncIterator:xn,async:function(t,n,e,o,a){return(r(n)?gn:wn)(i(t),n,e,o,a)},keys:bn,values:mn}})()}function mn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(dn(t)+" is not iterable")}function bn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function wn(t,n,e,r,o){var i=gn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function gn(t,n,e,r,o){return new xn(Sn().w(t,n,e,r),o||Promise)}function xn(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof On?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(kn(xn.prototype),kn(xn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),kn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Sn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return kn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(kn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,kn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,kn(l,"constructor",f),kn(f,"constructor",c),c.displayName="GeneratorFunction",kn(f,o,"GeneratorFunction"),kn(l),kn(l,o,"Generator"),kn(l,r,(function(){return this})),kn(l,"toString",(function(){return"[object Generator]"})),(Sn=function(){return{w:i,m:p}})()}function kn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}kn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){kn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},kn(t,n,e,r)}function On(t,n){this.v=t,this.k=n}function jn(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Pn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_n(r.key),r)}}function _n(t){var n=function(t){if("object"!=dn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=dn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dn(n)?n:n+""}var Tn=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t){var n=document.createElement("form");n.innerHTML='\n      <h2>Login</h2>\n      <label for="email">Email</label>\n      <input id="email" name="email" type="email" required />\n\n      <label for="password">Password</label>\n      <input id="password" name="password" type="password" required />\n\n      <button type="submit">Login</button>\n    ',n.addEventListener("submit",function(){var t,e=(t=hn().mark((function t(e){var r,o,i,a,u;return hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=n.email.value,o=n.password.value,t.prev=3,t.next=6,fetch("https://story-api.dicoding.dev/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})});case 6:return a=t.sent,t.next=9,a.json();case 9:null!=(u=t.sent)&&null!==(i=u.loginResult)&&void 0!==i&&i.token?(localStorage.setItem("token",u.loginResult.token),alert("Login berhasil!"),window.location.hash="#/"):alert("Login gagal: "+(u.message||"Email/password salah")),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),alert("Terjadi kesalahan saat login: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){jn(i,r,o,a,u,"next",t)}function u(t){jn(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t.appendChild(n)}}],n&&Pn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function Nn(){var t=Dn(),n=t.m(Nn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Gn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Nn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Bn(t,n)},AsyncIterator:An,async:function(t,n,e,o,a){return(r(n)?Ln:Fn)(i(t),n,e,o,a)},keys:In,values:Gn}})()}function Gn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(En(t)+" is not iterable")}function In(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Fn(t,n,e,r,o){var i=Ln(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Ln(t,n,e,r,o){return new An(Dn().w(t,n,e,r),o||Promise)}function An(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Bn?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Cn(An.prototype),Cn(An.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Cn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Dn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Cn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Cn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Cn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Cn(l,"constructor",f),Cn(f,"constructor",c),c.displayName="GeneratorFunction",Cn(f,o,"GeneratorFunction"),Cn(l),Cn(l,o,"Generator"),Cn(l,r,(function(){return this})),Cn(l,"toString",(function(){return"[object Generator]"})),(Dn=function(){return{w:i,m:p}})()}function Cn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Cn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Cn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Cn(t,n,e,r)}function Bn(t,n){this.v=t,this.k=n}function Mn(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Hn(t){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(t)}function qn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yn(r.key),r)}}function Yn(t){var n=function(t){if("object"!=Hn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Hn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Hn(n)?n:n+""}var Rn=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t,n){var e=document.createElement("form");e.innerHTML='\n      <h2>Daftar Akun Baru</h2>\n\n      <label for="name">Nama Lengkap</label>\n      <input id="name" name="name" type="text" required />\n\n      <label for="email">Email</label>\n      <input id="email" name="email" type="email" required />\n\n      <label for="password">Password</label>\n      <input id="password" name="password" type="password" required />\n\n      <button type="submit">Daftar</button>\n    ',e.addEventListener("submit",(function(t){t.preventDefault();var r=e.name.value,o=e.email.value,i=e.password.value;n({name:r,email:o,password:i})})),t.appendChild(e)}}],n&&qn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function Wn(){var t=Qn(),n=t.m(Wn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,zn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Wn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Zn(t,n)},AsyncIterator:$n,async:function(t,n,e,o,a){return(r(n)?Jn:Kn)(i(t),n,e,o,a)},keys:Un,values:zn}})()}function zn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Vn(t)+" is not iterable")}function Un(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Kn(t,n,e,r,o){var i=Jn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Jn(t,n,e,r,o){return new $n(Qn().w(t,n,e,r),o||Promise)}function $n(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Zn?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Xn($n.prototype),Xn($n.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Xn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Qn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Xn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Xn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Xn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Xn(l,"constructor",f),Xn(f,"constructor",c),c.displayName="GeneratorFunction",Xn(f,o,"GeneratorFunction"),Xn(l),Xn(l,o,"Generator"),Xn(l,r,(function(){return this})),Xn(l,"toString",(function(){return"[object Generator]"})),(Qn=function(){return{w:i,m:p}})()}function Xn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Xn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Xn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Xn(t,n,e,r)}function Zn(t,n){this.v=t,this.k=n}function te(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}const ne={showLoading:function(t){t.innerHTML="<p>Loading data cerita tersimpan...</p>"},showSavedStories:function(t,n){t.innerHTML='\n      <h2 class="text-xl font-semibold mb-4">Cerita Tersimpan</h2>\n      <div class="story-list">\n        '.concat(n.map((function(t){return'\n          <div class="story-item" tabindex="0">\n            <img src="'.concat(t.photoUrl,'" alt="').concat(t.name,'" />\n            <h3>').concat(t.name,"</h3>\n            <p>").concat(t.description,'</p>\n            <button class="unsave-btn" data-id="').concat(t.id,'">Hapus</button>\n          </div>\n        ')})).join(""),"\n      </div>\n    ")}};function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(){var t=fe(),n=t.m(re),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,oe(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(re=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new le(t,n)},AsyncIterator:ce,async:function(t,n,e,o,a){return(r(n)?ue:ae)(i(t),n,e,o,a)},keys:ie,values:oe}})()}function oe(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(ee(t)+" is not iterable")}function ie(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ae(t,n,e,r,o){var i=ue(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ue(t,n,e,r,o){return new ce(fe().w(t,n,e,r),o||Promise)}function ce(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof le?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(se(ce.prototype),se(ce.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),se(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function fe(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return se(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(se(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,se(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,se(l,"constructor",f),se(f,"constructor",c),c.displayName="GeneratorFunction",se(f,o,"GeneratorFunction"),se(l),se(l,o,"Generator"),se(l,r,(function(){return this})),se(l,"toString",(function(){return"[object Generator]"})),(fe=function(){return{w:i,m:p}})()}function se(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}se=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){se(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},se(t,n,e,r)}function le(t,n){this.v=t,this.k=n}function pe(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function ve(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){pe(i,r,o,a,u,"next",t)}function u(t){pe(i,r,o,a,u,"throw",t)}a(void 0)}))}}function ye(t){return de.apply(this,arguments)}function de(){return de=ve(re().mark((function t(n){var e,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new ne(n)).render(),t.prev=2,t.next=5,W();case 5:r=t.sent,e.showStories(r),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Gagal memuat data tersimpan:",t.t0),e.showError("Gagal memuat data tersimpan.");case 13:n.addEventListener("click",function(){var t=ve(re().mark((function t(n){var r,o;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.classList.contains("delete-story")){t.next=8;break}return r=n.target.dataset.id,t.next=4,z(r);case 4:return t.next=6,W();case 6:o=t.sent,e.showStories(o);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),de.apply(this,arguments)}function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function me(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,be(r.key),r)}}function be(t){var n=function(t){if("object"!=he(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=he(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==he(n)?n:n+""}var we=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},(n=[{key:"render",value:function(t){t.innerHTML='\n      <h2>404 - Halaman Tidak Ditemukan</h2>\n      <p>Halaman yang kamu cari tidak tersedia.</p>\n      <a href="#/">Kembali ke Beranda</a>\n    '}}])&&me(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function xe(){var t=_e(),n=t.m(xe),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Se(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(xe=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ee(t,n)},AsyncIterator:Pe,async:function(t,n,e,o,a){return(r(n)?je:Oe)(i(t),n,e,o,a)},keys:ke,values:Se}})()}function Se(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(ge(t)+" is not iterable")}function ke(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Oe(t,n,e,r,o){var i=je(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function je(t,n,e,r,o){return new Pe(_e().w(t,n,e,r),o||Promise)}function Pe(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Ee?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Te(Pe.prototype),Te(Pe.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Te(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function _e(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Te(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Te(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Te(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Te(l,"constructor",f),Te(f,"constructor",c),c.displayName="GeneratorFunction",Te(f,o,"GeneratorFunction"),Te(l),Te(l,o,"Generator"),Te(l,r,(function(){return this})),Te(l,"toString",(function(){return"[object Generator]"})),(_e=function(){return{w:i,m:p}})()}function Te(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Te=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Te(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Te(t,n,e,r)}function Ee(t,n){this.v=t,this.k=n}function Ne(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}var Ge={"#/":function(t){return St.apply(this,arguments)},"#/add":function(t){(new Dt).render(t,function(){var t,n=(t=on().mark((function t(n){return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.imageBlob){t.next=3;break}throw new Error("Foto tidak ditemukan atau tidak valid");case 3:return t.next=5,nn({description:n.description,lat:n.lat,lng:n.lng,imageBlob:n.imageBlob});case 5:return t.next=7,V({id:Date.now(),description:n.description,lat:n.lat,lng:n.lng,createdAt:(new Date).toISOString()});case 7:alert("Cerita berhasil ditambahkan!"),window.location.hash="#/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert("Gagal menambahkan cerita: "+t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){yn(i,r,o,a,u,"next",t)}function u(t){yn(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/login":function(t){(new Tn).render(t,function(){var t,n=(t=Nn().mark((function t(n){var e,r,o,i;return Nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.email,r=n.password,e.trim()&&r.trim()){t.next=4;break}return alert("Email dan password tidak boleh kosong."),t.abrupt("return");case 4:return t.prev=4,t.next=7,Qt({email:e,password:r});case 7:i=t.sent,console.log("DEBUG LOGIN:",i),!1===(null==i?void 0:i.error)&&null!=i&&null!==(o=i.loginResult)&&void 0!==o&&o.token?(localStorage.setItem("token",i.loginResult.token),alert("Login berhasil!"),window.location.hash="#/"):alert("Login gagal: "+(i.message||"Email/password salah")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),console.error("Login error:",t.t0),alert("Terjadi kesalahan saat login: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Mn(i,r,o,a,u,"next",t)}function u(t){Mn(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/register":function(t){(new Rn).render(t,function(){var t,n=(t=Wn().mark((function t(n){var e,r,o,i;return Wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.name,r=n.email,o=n.password,t.prev=1,console.log("Data dikirim:",{name:e,email:r,password:o}),t.next=5,Zt({name:e,email:r,password:o});case 5:if(i=t.sent,console.log("Respon dari API:",i),!0!==i.error){t.next=9;break}return t.abrupt("return",alert("Gagal daftar: "+(i.message||"Cek kembali input")));case 9:alert("Registrasi berhasil! Silakan login."),window.location.hash="#/login",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),alert("Terjadi kesalahan saat registrasi: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){te(i,r,o,a,u,"next",t)}function u(t){te(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/saved":ye},Ie=document.getElementById("app");function Fe(){return Le.apply(this,arguments)}function Le(){var t;return t=xe().mark((function t(){var n,e,r,o,i;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.location.hash||"#/",e=localStorage.getItem("token"),r=["#/login","#/register"].includes(n),e||r){t.next=6;break}return window.location.hash="#/login",t.abrupt("return");case 6:if(o=Ge[n],Ie.innerHTML="",console.log("Routing ke:",n,"Presenter:",o),"function"!=typeof o){t.next=16;break}if(!((i=o(Ie))instanceof Promise)){t.next=14;break}return t.next=14,i;case 14:t.next=17;break;case 16:(new we).render(Ie);case 17:case"end":return t.stop()}}),t)})),Le=function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Ne(i,r,o,a,u,"next",t)}function u(t){Ne(i,r,o,a,u,"throw",t)}a(void 0)}))},Le.apply(this,arguments)}function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function De(){var t=Ye(),n=t.m(De),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Ce(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(De=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ve(t,n)},AsyncIterator:qe,async:function(t,n,e,o,a){return(r(n)?He:Me)(i(t),n,e,o,a)},keys:Be,values:Ce}})()}function Ce(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Ae(t)+" is not iterable")}function Be(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Me(t,n,e,r,o){var i=He(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function He(t,n,e,r,o){return new qe(Ye().w(t,n,e,r),o||Promise)}function qe(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Ve?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Re(qe.prototype),Re(qe.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Re(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Ye(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Re(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],v=p.p,y=i[2];e>3?(o=y===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,y){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,y),u=s,c=y;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Re(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Re(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Re(l,"constructor",f),Re(f,"constructor",c),c.displayName="GeneratorFunction",Re(f,o,"GeneratorFunction"),Re(l),Re(l,o,"Generator"),Re(l,r,(function(){return this})),Re(l,"toString",(function(){return"[object Generator]"})),(Ye=function(){return{w:i,m:p}})()}function Re(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Re=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Re(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Re(t,n,e,r)}function Ve(t,n){this.v=t,this.k=n}function We(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function ze(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){We(i,r,o,a,u,"next",t)}function u(t){We(i,r,o,a,u,"throw",t)}a(void 0)}))}}"startViewTransition"in document?window.addEventListener("hashchange",(function(){return document.startViewTransition(Fe)})):window.addEventListener("hashchange",Fe),window.addEventListener("route-change",Fe),window.dispatchEvent(new CustomEvent("route-change")),e(963),document.addEventListener("DOMContentLoaded",(function(){"default"===Notification.permission||"granted"===Notification.permission&&navigator.serviceWorker.ready.then((function(t){t.showNotification("Selamat datang kembali!")}))}));var Ue=document.createElement("a");Ue.href="#main-content",Ue.className="skip-link",Ue.innerText="Skip to Content",document.body.prepend(Ue);var Ke=document.querySelector("#main-content");function Je(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),e=atob(n),r=new Uint8Array(e.length),o=0;o<e.length;++o)r[o]=e.charCodeAt(o);return r}Ue.addEventListener("click",(function(t){t.preventDefault(),Ue.blur(),Ke&&(Ke.focus(),Ke.scrollIntoView())})),"startViewTransition"in document?window.addEventListener("hashchange",(function(){document.startViewTransition((function(){window.dispatchEvent(new CustomEvent("route-change"))}))})):window.addEventListener("hashchange",(function(){window.dispatchEvent(new CustomEvent("route-change"))})),window.addEventListener("route-change",(function(){var t=document.getElementById("app");"#/saved"===window.location.hash&&(t.innerHTML="",ye(t))})),window.dispatchEvent(new CustomEvent("route-change")),window.addEventListener("load",ze(De().mark((function t(){var n,e,r,o;return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("serviceWorker"in navigator&&"PushManager"in window){t.next=3;break}return console.warn("Push notification tidak didukung browser ini."),t.abrupt("return");case 3:return t.prev=3,t.next=6,Notification.requestPermission();case 6:if("granted"===t.sent){t.next=10;break}return console.log("Izin notifikasi ditolak."),t.abrupt("return");case 10:return t.next=12,navigator.serviceWorker.ready;case 12:return n=t.sent,t.next=15,n.pushManager.getSubscription();case 15:if(e=t.sent){t.next=20;break}return t.next=19,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Je("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")});case 19:e=t.sent;case 20:return r=localStorage.getItem("token"),o=e.toJSON(),t.next=24,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(o)});case 24:console.log("Push subscription berhasil dan terkirim ke server"),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),console.error("Gagal mengaktifkan push notification:",t.t0);case 30:case"end":return t.stop()}}),t,null,[[3,27]])}))))})()})();