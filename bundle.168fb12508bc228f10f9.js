/*! For license information please see bundle.168fb12508bc228f10f9.js.LICENSE.txt */
(()=>{var t={56:(t,n,e)=>{"use strict";t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},72:t=>{"use strict";var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var i={},a=[],u=0;u<t.length;u++){var c=t[u],f=r.base?c[0]+r.base:c[0],s=i[f]||0,l="".concat(f," ").concat(s);i[f]=s+1;var p=e(l),y={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(y);else{var v=o(y,r);r.byIndex=u,n.splice(u,0,{identifier:l,updater:v,references:1})}a.push(l)}return a}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var u=e(i[a]);n[u].references--}for(var c=r(t,o),f=0;f<i.length;f++){var s=e(i[f]);0===n[s].references&&(n[s].updater(),n.splice(s,1))}i=c}}},113:t=>{"use strict";t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},249:(t,n,e)=>{"use strict";e.d(n,{A:()=>u});var r=e(601),o=e.n(r),i=e(314),a=e.n(i)()(o());a.push([t.id,"/* ======= Reset dan Umum ======= */\n* {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  margin: 0;\n  padding: 0;\n  background: #f9f9f9;\n  color: #333;\n  line-height: 1.6;\n}\n\n/* ======= Skip to Content ======= */\n.skip-link {\n  position: absolute;\n  left: -999px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\n.skip-link:focus {\n  position: fixed;\n  left: 10px;\n  top: 10px;\n  z-index: 1000;\n  background: #ffeb3b;\n  padding: 10px;\n  font-weight: bold;\n  color: #000;\n  border-radius: 5px;\n}\n\n/* ======= Navbar ======= */\nnav {\n  background-color: #007bff;\n  padding: 1rem 2rem;\n  display: flex;\n  gap: 1.5rem;\n  align-items: center;\n  box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\nnav a {\n  color: #fff;\n  text-decoration: none;\n  font-weight: 600;\n  transition: color 0.3s ease;\n}\n\nnav a:hover,\nnav a:focus {\n  color: #ffd54f;\n  outline: none;\n}\n\n/* ======= Konten Utama ======= */\n#app {\n  max-width: 1200px;\n  margin: 2rem auto;\n  padding: 0 1rem;\n  opacity: 0;\n  transform: translateY(20px);\n  animation: fadeSlideIn 0.5s ease-out forwards;\n}\n\n/* Transisi Halaman */\n@keyframes fadeSlideIn {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ======= Daftar Produk / Cerita ======= */\n.product-list,\n.story-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));\n  gap: 1.5rem;\n  margin-top: 1rem;\n}\n\n.product-item,\n.story-item {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.product-item:hover,\n.story-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n.product-item img,\n.story-item img {\n  width: 100%;\n  height: 180px;\n  object-fit: cover;\n  border-radius: 6px;\n  margin-bottom: 0.5rem;\n}\n\n.product-item h3,\n.story-item h3 {\n  margin: 0.5rem 0;\n  font-size: 1.2rem;\n}\n\n/* ======= Form Tambah ======= */\n.add-product-form {\n  background: white;\n  padding: 2rem;\n  border-radius: 10px;\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n  max-width: 600px;\n  margin: 2rem auto;\n}\n\n.add-product-form label {\n  display: block;\n  margin-top: 1rem;\n  font-weight: 600;\n}\n\n.add-product-form input,\n.add-product-form textarea {\n  width: 100%;\n  padding: 0.75rem;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  margin-top: 0.3rem;\n}\n\n.add-product-form button {\n  margin-top: 1rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.25rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background-color 0.3s;\n}\n\n.add-product-form button:hover {\n  background-color: #0056b3;\n}\n\n/* ======= Kamera ======= */\n#camera,\n#snapshot {\n  width: 100%;\n  border-radius: 8px;\n  margin: 1rem 0;\n}\n\n#snapshot {\n  display: none;\n}\n\n/* ======= Map Picker ======= */\n#mapPicker {\n  width: 100%;\n  height: 250px;\n  margin-top: 1rem;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n}\n\n/* ======= Map di Halaman Utama ======= */\n#product-map {\n  width: 100%;\n  height: 300px;\n  border-radius: 10px;\n  margin-top: 2rem;\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* ======= Responsif ======= */\n@media (max-width: 768px) {\n  nav {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .add-product-form {\n    margin: 1rem;\n    padding: 1.5rem;\n  }\n .delete-button {\n  margin-top: 10px;\n  padding: 0.5rem 1rem;\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.delete-button:hover {\n  background-color: #b02a37;\n}\n}\n",""]);const u=a},314:t=>{"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var f=0;f<t.length;f++){var s=[].concat(t[f]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),e&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=e):s[2]=e),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),n.push(s))}},n}},540:t=>{"use strict";t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},601:t=>{"use strict";t.exports=function(t){return t[1]}},659:t=>{"use strict";var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},963:()=>{function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(){"use strict";var t=u(),c=t.m(n),s=(Object.getPrototypeOf?Object.getPrototypeOf(c):c.__proto__).constructor;function l(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===s||"GeneratorFunction"===(n.displayName||n.name))}var p={throw:1,return:2,break:3,continue:3};function y(t){var n,r;return function(o){n||(n={stop:function(){return r(o.a,2)},catch:function(){return o.v},abrupt:function(t,n){return r(o.a,p[t],n)},delegateYield:function(t,i,a){return n.resultName=i,r(o.d,e(t),a)},finish:function(t){return r(o.f,t)}},r=function(t,e,r){o.p=n.prev,o.n=n.next;try{return t(e,r)}finally{n.next=o.n}}),n.resultName&&(n[n.resultName]=o.v,n.resultName=void 0),n.sent=o.v,n.next=o.n;try{return t.call(this,n)}finally{o.p=n.prev,o.n=n.next}}}return(n=function(){return{wrap:function(n,e,r,o){return t.w(y(n),e,r,o&&o.reverse())},isGeneratorFunction:l,mark:t.m,awrap:function(t,n){return new f(t,n)},AsyncIterator:a,async:function(t,n,e,r,a){return(l(n)?i:o)(y(t),n,e,r,a)},keys:r,values:e}})()}function e(n){if(null!=n){var e=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}}throw new TypeError(t(n)+" is not iterable")}function r(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function o(t,n,e,r,o){var a=i(t,n,e,r,o);return a.next().then((function(t){return t.done?t.value:a.next()}))}function i(t,n,e,r,o){return new a(u().w(t,n,e,r),o||Promise)}function a(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof f?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(c(a.prototype),c(a.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),c(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function u(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var u=r&&r.prototype instanceof f?r:f,s=Object.create(u.prototype);return c(s,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),s}var a={};function f(){}function s(){}function l(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(c(n={},r,(function(){return this})),n),y=l.prototype=f.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,c(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return s.prototype=l,c(y,"constructor",l),c(l,"constructor",s),s.displayName="GeneratorFunction",c(l,o,"GeneratorFunction"),c(y),c(y,o,"Generator"),c(y,r,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m:v}})()}function c(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){c(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},c(t,n,e,r)}function f(t,n){this.v=t,this.k=n}function s(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){s(i,r,o,a,u,"next",t)}function u(t){s(i,r,o,a,u,"throw",t)}a(void 0)}))}}"serviceWorker"in navigator&&window.addEventListener("load",l(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("./sw.js",{scope:"./"});case 3:e=t.sent,console.log("Service Worker registered:",e),e.waiting&&console.log("Ada versi baru service worker yang menunggu untuk diaktifkan."),e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("Konten baru tersedia. Silakan refresh halaman."):console.log("Konten tersedia untuk digunakan offline."))})},t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Gagal mendaftarkan Service Worker:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))))}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.nc=void 0,(()=>{"use strict";var t=e(72),n=e.n(t),r=e(825),o=e.n(r),i=e(659),a=e.n(i),u=e(56),c=e.n(u),f=e(540),s=e.n(f),l=e(113),p=e.n(l),y=e(249),v={};let d,h;v.styleTagTransform=p(),v.setAttributes=c(),v.insert=a().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=s(),n()(y.A,v),y.A&&y.A.locals&&y.A.locals;const m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,x=new WeakMap;let S={get(t,n,e){if(t instanceof IDBTransaction){if("done"===n)return b.get(t);if("objectStoreNames"===n)return t.objectStoreNames||w.get(t);if("store"===n)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return O(t[n])},set:(t,n,e)=>(t[n]=e,!0),has:(t,n)=>t instanceof IDBTransaction&&("done"===n||"store"===n)||n in t};function k(t){return"function"==typeof t?(n=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...t){return n.apply(j(this),t),O(m.get(this))}:function(...t){return O(n.apply(j(this),t))}:function(t,...e){const r=n.call(j(this),t,...e);return w.set(r,t.sort?t.sort():[t]),O(r)}:(t instanceof IDBTransaction&&function(t){if(b.has(t))return;const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),r()},i=()=>{e(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));b.set(t,n)}(t),e=t,(d||(d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,S):t);var n,e}function O(t){if(t instanceof IDBRequest)return function(t){const n=new Promise(((n,e)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(O(t.result)),r()},i=()=>{e(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return n.then((n=>{n instanceof IDBCursor&&m.set(n,t)})).catch((()=>{})),x.set(n,t),n}(t);if(g.has(t))return g.get(t);const n=k(t);return n!==t&&(g.set(t,n),x.set(n,t)),n}const j=t=>x.get(t),P=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],_=new Map;function E(t,n){if(!(t instanceof IDBDatabase)||n in t||"string"!=typeof n)return;if(_.get(n))return _.get(n);const e=n.replace(/FromIndex$/,""),r=n!==e,o=T.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!P.includes(e))return;const i=async function(t,...n){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(n.shift())),(await Promise.all([a[e](...n),o&&i.done]))[0]};return _.set(n,i),i}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function G(){var t=D(),n=t.m(G),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,I(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(G=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new M(t,n)},AsyncIterator:A,async:function(t,n,e,o,a){return(r(n)?C:L)(i(t),n,e,o,a)},keys:F,values:I}})()}function I(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(N(t)+" is not iterable")}function F(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function L(t,n,e,r,o){var i=C(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function C(t,n,e,r,o){return new A(D().w(t,n,e,r),o||Promise)}function A(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof M?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(B(A.prototype),B(A.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),B(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function D(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return B(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(B(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,B(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,B(l,"constructor",f),B(f,"constructor",c),c.displayName="GeneratorFunction",B(f,o,"GeneratorFunction"),B(l),B(l,o,"Generator"),B(l,r,(function(){return this})),B(l,"toString",(function(){return"[object Generator]"})),(D=function(){return{w:i,m:p}})()}function B(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}B=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){B(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},B(t,n,e,r)}function M(t,n){this.v=t,this.k=n}function H(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Y(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){H(i,r,o,a,u,"next",t)}function u(t){H(i,r,o,a,u,"throw",t)}a(void 0)}))}}var q;q=S,S={...q,get:(t,n,e)=>E(t,n)||q.get(t,n,e),has:(t,n)=>!!E(t,n)||q.has(t,n)};var R=function(t,n,{blocked:e,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,n),u=O(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(O(a.result),t.oldVersion,t.newVersion,O(a.transaction),t)})),e&&a.addEventListener("blocked",(t=>e(t.oldVersion,t.newVersion,t))),u.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),u}("galeri-cerita",1,{upgrade:function(t){t.objectStoreNames.contains("saved-stories")||t.createObjectStore("saved-stories",{keyPath:"id"})}}),U=function(){var t=Y(G().mark((function t(n){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return t.abrupt("return",t.sent.put("saved-stories",n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),V=function(){var t=Y(G().mark((function t(){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return t.abrupt("return",t.sent.getAll("saved-stories"));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Y(G().mark((function t(n){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R;case 2:return t.abrupt("return",t.sent.delete("saved-stories",n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();const z=e.p+"assets/1b4d692409915a775c73.png";function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function J(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$(r.key),r)}}function $(t){var n=function(t){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=K(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==K(n)?n:n+""}var Q=function(){return t=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n},(n=[{key:"showLoading",value:function(){this.container.innerHTML="<p>Memuat cerita...</p>"}},{key:"showStories",value:function(t,n){var e=document.createElement("div");e.className="story-list",t.forEach((function(t){var r=document.createElement("div");r.className="story-item";var o=t.photoUrl||z;r.innerHTML='\n        <img src="'.concat(o,'" alt="').concat(t.name||"Cerita",'" />\n        <h3>').concat(t.name||"Pengguna","</h3>\n        <p>").concat(t.description,"</p>\n      ");var i=document.createElement("button");i.innerText="Hapus",i.className="delete-button",i.setAttribute("aria-label","Hapus cerita dari ".concat(t.name)),i.addEventListener("click",(function(){confirm("Yakin ingin menghapus cerita dari ".concat(t.name,"?"))&&n(t.id)}));var a=document.createElement("button");a.innerText="Simpan",a.className="save-button",a.setAttribute("aria-label","Simpan cerita dari ".concat(t.name)),a.addEventListener("click",(function(){U(t),alert("Cerita dari ".concat(t.name," disimpan ke perangkat!"))})),r.appendChild(i),r.appendChild(a),e.appendChild(r)})),this.container.innerHTML="",this.container.appendChild(e)}},{key:"showError",value:function(t){this.container.innerHTML='<p class="error">'.concat(t,"</p>")}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Z(){var t=it(),n=t.m(Z),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,tt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Z=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new ut(t,n)},AsyncIterator:ot,async:function(t,n,e,o,a){return(r(n)?rt:et)(i(t),n,e,o,a)},keys:nt,values:tt}})()}function tt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(X(t)+" is not iterable")}function nt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function et(t,n,e,r,o){var i=rt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function rt(t,n,e,r,o){return new ot(it().w(t,n,e,r),o||Promise)}function ot(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof ut?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(at(ot.prototype),at(ot.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),at(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function it(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return at(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(at(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,at(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,at(l,"constructor",f),at(f,"constructor",c),c.displayName="GeneratorFunction",at(f,o,"GeneratorFunction"),at(l),at(l,o,"Generator"),at(l,r,(function(){return this})),at(l,"toString",(function(){return"[object Generator]"})),(it=function(){return{w:i,m:p}})()}function at(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}at=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){at(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},at(t,n,e,r)}function ut(t,n){this.v=t,this.k=n}function ct(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function ft(){return st.apply(this,arguments)}function st(){return(t=Z().mark((function t(){var n,e,r;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.next=3,fetch("".concat("https://story-api.dicoding.dev/v1","/stories"),{headers:{Authorization:"Bearer ".concat(n)}});case 3:if((e=t.sent).ok){t.next=9;break}return t.next=7,e.json();case 7:throw r=t.sent,new Error(r.message||"Gagal memuat data");case 9:return t.next=11,e.json();case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})),st=function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){ct(i,r,o,a,u,"next",t)}function u(t){ct(i,r,o,a,u,"throw",t)}a(void 0)}))}).apply(this,arguments);var t}function lt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800;return new Promise((function(n){return setTimeout(n,t)}))}function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function yt(){var t=wt(),n=t.m(yt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,vt(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(yt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new xt(t,n)},AsyncIterator:bt,async:function(t,n,e,o,a){return(r(n)?mt:ht)(i(t),n,e,o,a)},keys:dt,values:vt}})()}function vt(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(pt(t)+" is not iterable")}function dt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ht(t,n,e,r,o){var i=mt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function mt(t,n,e,r,o){return new bt(wt().w(t,n,e,r),o||Promise)}function bt(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof xt?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(gt(bt.prototype),gt(bt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),gt(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function wt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return gt(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(gt(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,gt(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,gt(l,"constructor",f),gt(f,"constructor",c),c.displayName="GeneratorFunction",gt(f,o,"GeneratorFunction"),gt(l),gt(l,o,"Generator"),gt(l,r,(function(){return this})),gt(l,"toString",(function(){return"[object Generator]"})),(wt=function(){return{w:i,m:p}})()}function gt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}gt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){gt(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},gt(t,n,e,r)}function xt(t,n){this.v=t,this.k=n}function St(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return kt(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?kt(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}function kt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function Ot(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function jt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Ot(i,r,o,a,u,"next",t)}function u(t){Ot(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Pt(){return Pt=jt(yt().mark((function t(n){var e,r,o,i,a,u,c,f,s,l;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=function(){return(l=jt(yt().mark((function t(n){var r;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(n);case 2:return t.next=4,V();case 4:r=t.sent,e.showStories(r,s);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)},s=function(t){return l.apply(this,arguments)},localStorage.getItem("token")){t.next=7;break}return alert("Silakan login terlebih dahulu."),window.location.hash="#/login",t.abrupt("return");case 7:return(e=new Q(n)).showLoading(),t.next=11,lt();case 11:return t.prev=11,t.next=14,ft();case 14:r=t.sent,o=r.listStory,i=St(o),t.prev=17,i.s();case 19:if((a=i.n()).done){t.next=25;break}return u=a.value,t.next=23,U(u);case 23:t.next=19;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(17),i.e(t.t0);case 30:return t.prev=30,i.f(),t.finish(30);case 33:return t.next=35,V();case 35:c=t.sent,e.showStories(c,s),t.next=45;break;case 39:return t.prev=39,t.t1=t.catch(11),t.next=43,V();case 43:(f=t.sent).length>0?e.showStories(f,s):e.showError("Gagal memuat data: "+t.t1.message);case 45:case"end":return t.stop()}}),t,null,[[11,39],[17,27,30,33]])}))),Pt.apply(this,arguments)}function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function _t(){var t=Lt(),n=t.m(_t),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Et(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(_t=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new At(t,n)},AsyncIterator:Ft,async:function(t,n,e,o,a){return(r(n)?It:Gt)(i(t),n,e,o,a)},keys:Nt,values:Et}})()}function Et(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Tt(t)+" is not iterable")}function Nt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Gt(t,n,e,r,o){var i=It(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function It(t,n,e,r,o){return new Ft(Lt().w(t,n,e,r),o||Promise)}function Ft(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof At?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Ct(Ft.prototype),Ct(Ft.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Ct(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Lt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Ct(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Ct(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Ct(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Ct(l,"constructor",f),Ct(f,"constructor",c),c.displayName="GeneratorFunction",Ct(f,o,"GeneratorFunction"),Ct(l),Ct(l,o,"Generator"),Ct(l,r,(function(){return this})),Ct(l,"toString",(function(){return"[object Generator]"})),(Lt=function(){return{w:i,m:p}})()}function Ct(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ct=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Ct(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Ct(t,n,e,r)}function At(t,n){this.v=t,this.k=n}function Dt(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Bt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mt(r.key),r)}}function Mt(t){var n=function(t){if("object"!=Tt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Tt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tt(n)?n:n+""}var Ht=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t,n){t.innerHTML='\n      <form id="add-story-form">\n        <h2>Tambah Cerita</h2>\n        <label>\n          Deskripsi:\n          <textarea name="description" required></textarea>\n        </label>\n\n        <label>\n          Lokasi:\n          <input type="text" name="lat" placeholder="Latitude" required />\n          <input type="text" name="lng" placeholder="Longitude" required />\n        </label>\n\n        <label>\n          Foto:\n          <input type="file" accept="image/*" capture="environment" name="photo" required />\n        </label>\n\n        <button type="submit">Kirim Cerita</button>\n      </form>\n    ';var e=t.querySelector("#add-story-form");e.addEventListener("submit",function(){var t,r=(t=_t().mark((function t(r){var o,i,a,u,c;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),o=e.description.value.trim(),i=e.lat.value.trim(),a=e.lng.value.trim(),u=e.photo.files[0]){t.next=8;break}return alert("Mohon unggah foto."),t.abrupt("return");case 8:return t.next=10,Yt(u);case 10:c=t.sent,n({description:o,lat:i,lng:a,imageBlob:c});case 12:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Dt(i,r,o,a,u,"next",t)}function u(t){Dt(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}())}}],n&&Bt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Yt(t){return new Promise((function(n){var e=new FileReader;e.onloadend=function(){var r=new Blob([e.result],{type:t.type});n(r)},e.readAsArrayBuffer(t)}))}function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Rt(){var t=Jt(),n=t.m(Rt),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Ut(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Rt=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Qt(t,n)},AsyncIterator:Kt,async:function(t,n,e,o,a){return(r(n)?zt:Wt)(i(t),n,e,o,a)},keys:Vt,values:Ut}})()}function Ut(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(qt(t)+" is not iterable")}function Vt(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Wt(t,n,e,r,o){var i=zt(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function zt(t,n,e,r,o){return new Kt(Jt().w(t,n,e,r),o||Promise)}function Kt(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Qt?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||($t(Kt.prototype),$t(Kt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),$t(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Jt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return $t(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):($t(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,$t(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,$t(l,"constructor",f),$t(f,"constructor",c),c.displayName="GeneratorFunction",$t(f,o,"GeneratorFunction"),$t(l),$t(l,o,"Generator"),$t(l,r,(function(){return this})),$t(l,"toString",(function(){return"[object Generator]"})),(Jt=function(){return{w:i,m:p}})()}function $t(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}$t=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){$t(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},$t(t,n,e,r)}function Qt(t,n){this.v=t,this.k=n}function Xt(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Zt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Xt(i,r,o,a,u,"next",t)}function u(t){Xt(i,r,o,a,u,"throw",t)}a(void 0)}))}}var tn="https://story-api.dicoding.dev/v1";function nn(t){return en.apply(this,arguments)}function en(){return(en=Zt(Rt().mark((function t(n){var e,r,o,i;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.email,r=n.password,t.next=3,fetch("".concat(tn,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});case 3:return o=t.sent,t.next=6,o.json();case 6:if(i=t.sent,o.ok){t.next=9;break}throw new Error(i.message||"Login gagal");case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rn(t){return on.apply(this,arguments)}function on(){return(on=Zt(Rt().mark((function t(n){var e,r,o,i;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.name,r=n.email,o=n.password,t.next=3,fetch("".concat(tn,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:r,password:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function an(t){return un.apply(this,arguments)}function un(){return(un=Zt(Rt().mark((function t(n){var e,r,o,i,a,u,c,f;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.description,r=n.lat,o=n.lng,i=n.imageBlob,(a=new FormData).append("photo",i,"photo.jpg"),a.append("description",e),a.append("lat",r),a.append("lon",o),u=localStorage.getItem("token")){t.next=9;break}throw new Error("Token login tidak ditemukan");case 9:return t.next=11,fetch("".concat(tn,"/stories"),{method:"POST",headers:{Authorization:"Bearer ".concat(u)},body:a});case 11:return c=t.sent,t.next=14,c.json();case 14:if(f=t.sent,c.ok){t.next=17;break}throw new Error(f.message||"Gagal menambahkan cerita");case 17:return t.abrupt("return",f);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function fn(){var t=dn(),n=t.m(fn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,sn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(fn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new mn(t,n)},AsyncIterator:vn,async:function(t,n,e,o,a){return(r(n)?yn:pn)(i(t),n,e,o,a)},keys:ln,values:sn}})()}function sn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(cn(t)+" is not iterable")}function ln(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function pn(t,n,e,r,o){var i=yn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function yn(t,n,e,r,o){return new vn(dn().w(t,n,e,r),o||Promise)}function vn(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof mn?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(hn(vn.prototype),hn(vn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),hn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function dn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return hn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(hn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,hn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,hn(l,"constructor",f),hn(f,"constructor",c),c.displayName="GeneratorFunction",hn(f,o,"GeneratorFunction"),hn(l),hn(l,o,"Generator"),hn(l,r,(function(){return this})),hn(l,"toString",(function(){return"[object Generator]"})),(dn=function(){return{w:i,m:p}})()}function hn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}hn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){hn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},hn(t,n,e,r)}function mn(t,n){this.v=t,this.k=n}function bn(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function gn(){var t=Pn(),n=t.m(gn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,xn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(gn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new _n(t,n)},AsyncIterator:jn,async:function(t,n,e,o,a){return(r(n)?On:kn)(i(t),n,e,o,a)},keys:Sn,values:xn}})()}function xn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(wn(t)+" is not iterable")}function Sn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function kn(t,n,e,r,o){var i=On(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function On(t,n,e,r,o){return new jn(Pn().w(t,n,e,r),o||Promise)}function jn(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof _n?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Tn(jn.prototype),Tn(jn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Tn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Pn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Tn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Tn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Tn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Tn(l,"constructor",f),Tn(f,"constructor",c),c.displayName="GeneratorFunction",Tn(f,o,"GeneratorFunction"),Tn(l),Tn(l,o,"Generator"),Tn(l,r,(function(){return this})),Tn(l,"toString",(function(){return"[object Generator]"})),(Pn=function(){return{w:i,m:p}})()}function Tn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Tn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Tn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Tn(t,n,e,r)}function _n(t,n){this.v=t,this.k=n}function En(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Nn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gn(r.key),r)}}function Gn(t){var n=function(t){if("object"!=wn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=wn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wn(n)?n:n+""}var In=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t){var n=document.createElement("form");n.innerHTML='\n      <h2>Login</h2>\n      <label for="email">Email</label>\n      <input id="email" name="email" type="email" required />\n\n      <label for="password">Password</label>\n      <input id="password" name="password" type="password" required />\n\n      <button type="submit">Login</button>\n    ',n.addEventListener("submit",function(){var t,e=(t=gn().mark((function t(e){var r,o,i,a,u;return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r=n.email.value,o=n.password.value,t.prev=3,t.next=6,fetch("https://story-api.dicoding.dev/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})});case 6:return a=t.sent,t.next=9,a.json();case 9:null!=(u=t.sent)&&null!==(i=u.loginResult)&&void 0!==i&&i.token?(localStorage.setItem("token",u.loginResult.token),alert("Login berhasil!"),window.location.hash="#/"):alert("Login gagal: "+(u.message||"Email/password salah")),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),alert("Terjadi kesalahan saat login: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){En(i,r,o,a,u,"next",t)}function u(t){En(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t.appendChild(n)}}],n&&Nn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Ln(){var t=Hn(),n=t.m(Ln),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Cn(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Ln=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new qn(t,n)},AsyncIterator:Mn,async:function(t,n,e,o,a){return(r(n)?Bn:Dn)(i(t),n,e,o,a)},keys:An,values:Cn}})()}function Cn(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Fn(t)+" is not iterable")}function An(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Dn(t,n,e,r,o){var i=Bn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Bn(t,n,e,r,o){return new Mn(Hn().w(t,n,e,r),o||Promise)}function Mn(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof qn?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Yn(Mn.prototype),Yn(Mn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Yn(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Hn(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Yn(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Yn(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Yn(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Yn(l,"constructor",f),Yn(f,"constructor",c),c.displayName="GeneratorFunction",Yn(f,o,"GeneratorFunction"),Yn(l),Yn(l,o,"Generator"),Yn(l,r,(function(){return this})),Yn(l,"toString",(function(){return"[object Generator]"})),(Hn=function(){return{w:i,m:p}})()}function Yn(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Yn=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Yn(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Yn(t,n,e,r)}function qn(t,n){this.v=t,this.k=n}function Rn(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function Vn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wn(r.key),r)}}function Wn(t){var n=function(t){if("object"!=Un(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=Un(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Un(n)?n:n+""}var zn=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"render",value:function(t,n){var e=document.createElement("form");e.innerHTML='\n      <h2>Daftar Akun Baru</h2>\n\n      <label for="name">Nama Lengkap</label>\n      <input id="name" name="name" type="text" required />\n\n      <label for="email">Email</label>\n      <input id="email" name="email" type="email" required />\n\n      <label for="password">Password</label>\n      <input id="password" name="password" type="password" required />\n\n      <button type="submit">Daftar</button>\n    ',e.addEventListener("submit",(function(t){t.preventDefault();var r=e.name.value,o=e.email.value,i=e.password.value;n({name:r,email:o,password:i})})),t.appendChild(e)}}],n&&Vn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Kn(t){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(t)}function Jn(){var t=ne(),n=t.m(Jn),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,$n(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Jn=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new re(t,n)},AsyncIterator:te,async:function(t,n,e,o,a){return(r(n)?Zn:Xn)(i(t),n,e,o,a)},keys:Qn,values:$n}})()}function $n(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Kn(t)+" is not iterable")}function Qn(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Xn(t,n,e,r,o){var i=Zn(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Zn(t,n,e,r,o){return new te(ne().w(t,n,e,r),o||Promise)}function te(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof re?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(ee(te.prototype),ee(te.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),ee(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function ne(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return ee(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(ee(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,ee(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,ee(l,"constructor",f),ee(f,"constructor",c),c.displayName="GeneratorFunction",ee(f,o,"GeneratorFunction"),ee(l),ee(l,o,"Generator"),ee(l,r,(function(){return this})),ee(l,"toString",(function(){return"[object Generator]"})),(ne=function(){return{w:i,m:p}})()}function ee(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ee=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){ee(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},ee(t,n,e,r)}function re(t,n){this.v=t,this.k=n}function oe(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ae(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ue(r.key),r)}}function ue(t){var n=function(t){if("object"!=ie(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=ie(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ie(n)?n:n+""}var ce=function(){return t=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n},(n=[{key:"showStories",value:function(t){if(this.container.innerHTML="<h2>Saved Stories</h2>",0!==t.length){var n=document.createElement("div");n.className="story-list",t.forEach((function(t){var e=document.createElement("div");e.className="story-item",e.innerHTML='\n        <img src="'.concat(t.photoUrl,'" alt="').concat(t.description,'" />\n        <h3>').concat(t.name,"</h3>\n        <p>").concat(t.description,"</p>\n      "),n.appendChild(e)})),this.container.appendChild(n)}else this.container.innerHTML+="<p>Belum ada cerita yang disimpan.</p>"}}])&&ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function se(){var t=he(),n=t.m(se),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,le(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(se=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new be(t,n)},AsyncIterator:de,async:function(t,n,e,o,a){return(r(n)?ve:ye)(i(t),n,e,o,a)},keys:pe,values:le}})()}function le(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(fe(t)+" is not iterable")}function pe(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ye(t,n,e,r,o){var i=ve(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ve(t,n,e,r,o){return new de(he().w(t,n,e,r),o||Promise)}function de(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof be?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(me(de.prototype),me(de.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),me(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function he(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return me(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(me(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,me(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,me(l,"constructor",f),me(f,"constructor",c),c.displayName="GeneratorFunction",me(f,o,"GeneratorFunction"),me(l),me(l,o,"Generator"),me(l,r,(function(){return this})),me(l,"toString",(function(){return"[object Generator]"})),(he=function(){return{w:i,m:p}})()}function me(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}me=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){me(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},me(t,n,e,r)}function be(t,n){this.v=t,this.k=n}function we(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function ge(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){we(i,r,o,a,u,"next",t)}function u(t){we(i,r,o,a,u,"throw",t)}a(void 0)}))}}function xe(t){return Se.apply(this,arguments)}function Se(){return Se=ge(se().mark((function t(n){var e,r;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new ce(n)).render(),t.prev=2,t.next=5,V();case 5:r=t.sent,e.showStories(r),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Gagal memuat data tersimpan:",t.t0),e.showError("Gagal memuat data tersimpan.");case 13:n.addEventListener("click",function(){var t=ge(se().mark((function t(n){var r,o;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.classList.contains("delete-story")){t.next=8;break}return r=n.target.dataset.id,t.next=4,W(r);case 4:return t.next=6,V();case 6:o=t.sent,e.showStories(o);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),Se.apply(this,arguments)}function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Oe(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,je(r.key),r)}}function je(t){var n=function(t){if("object"!=ke(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=ke(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ke(n)?n:n+""}var Pe=function(){return t=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)},(n=[{key:"render",value:function(t){t.innerHTML='\n      <h2>404 - Halaman Tidak Ditemukan</h2>\n      <p>Halaman yang kamu cari tidak tersedia.</p>\n      <a href="#/">Kembali ke Beranda</a>\n    '}}])&&Oe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}function _e(){var t=Le(),n=t.m(_e),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Ee(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(_e=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Ae(t,n)},AsyncIterator:Fe,async:function(t,n,e,o,a){return(r(n)?Ie:Ge)(i(t),n,e,o,a)},keys:Ne,values:Ee}})()}function Ee(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(Te(t)+" is not iterable")}function Ne(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Ge(t,n,e,r,o){var i=Ie(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function Ie(t,n,e,r,o){return new Fe(Le().w(t,n,e,r),o||Promise)}function Fe(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Ae?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(Ce(Fe.prototype),Ce(Fe.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Ce(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Le(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return Ce(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(Ce(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,Ce(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,Ce(l,"constructor",f),Ce(f,"constructor",c),c.displayName="GeneratorFunction",Ce(f,o,"GeneratorFunction"),Ce(l),Ce(l,o,"Generator"),Ce(l,r,(function(){return this})),Ce(l,"toString",(function(){return"[object Generator]"})),(Le=function(){return{w:i,m:p}})()}function Ce(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ce=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){Ce(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},Ce(t,n,e,r)}function Ae(t,n){this.v=t,this.k=n}function De(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}var Be={"#/":function(t){return Pt.apply(this,arguments)},"#/add":function(t){(new Ht).render(t,function(){var t,n=(t=fn().mark((function t(n){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.imageBlob){t.next=3;break}throw new Error("Foto tidak ditemukan atau tidak valid");case 3:return t.next=5,an({description:n.description,lat:n.lat,lng:n.lng,imageBlob:n.imageBlob});case 5:return t.next=7,U({id:Date.now(),description:n.description,lat:n.lat,lng:n.lng,createdAt:(new Date).toISOString()});case 7:alert("Cerita berhasil ditambahkan!"),window.location.hash="#/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert("Gagal menambahkan cerita: "+t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){bn(i,r,o,a,u,"next",t)}function u(t){bn(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/login":function(t){(new In).render(t,function(){var t,n=(t=Ln().mark((function t(n){var e,r,o,i;return Ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.email,r=n.password,e.trim()&&r.trim()){t.next=4;break}return alert("Email dan password tidak boleh kosong."),t.abrupt("return");case 4:return t.prev=4,t.next=7,nn({email:e,password:r});case 7:i=t.sent,console.log("DEBUG LOGIN:",i),!1===(null==i?void 0:i.error)&&null!=i&&null!==(o=i.loginResult)&&void 0!==o&&o.token?(localStorage.setItem("token",i.loginResult.token),alert("Login berhasil!"),window.location.hash="#/"):alert("Login gagal: "+(i.message||"Email/password salah")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),console.error("Login error:",t.t0),alert("Terjadi kesalahan saat login: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Rn(i,r,o,a,u,"next",t)}function u(t){Rn(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/register":function(t){(new zn).render(t,function(){var t,n=(t=Jn().mark((function t(n){var e,r,o,i;return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.name,r=n.email,o=n.password,t.prev=1,console.log("Data dikirim:",{name:e,email:r,password:o}),t.next=5,rn({name:e,email:r,password:o});case 5:if(i=t.sent,console.log("Respon dari API:",i),!0!==i.error){t.next=9;break}return t.abrupt("return",alert("Gagal daftar: "+(i.message||"Cek kembali input")));case 9:alert("Registrasi berhasil! Silakan login."),window.location.hash="#/login",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),alert("Terjadi kesalahan saat registrasi: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){oe(i,r,o,a,u,"next",t)}function u(t){oe(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},"#/saved":xe},Me=document.getElementById("app");function He(){return Ye.apply(this,arguments)}function Ye(){var t;return t=_e().mark((function t(){var n,e,r,o,i;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.location.hash||"#/",e=localStorage.getItem("token"),r=["#/login","#/register"].includes(n),e||r){t.next=6;break}return window.location.hash="#/login",t.abrupt("return");case 6:if(o=Be[n],Me.innerHTML="",console.log("Routing ke:",n,"Presenter:",o),"function"!=typeof o){t.next=16;break}if(!((i=o(Me))instanceof Promise)){t.next=14;break}return t.next=14,i;case 14:t.next=17;break;case 16:(new Pe).render(Me);case 17:case"end":return t.stop()}}),t)})),Ye=function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){De(i,r,o,a,u,"next",t)}function u(t){De(i,r,o,a,u,"throw",t)}a(void 0)}))},Ye.apply(this,arguments)}function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function Re(){var t=Je(),n=t.m(Re),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===e||"GeneratorFunction"===(n.displayName||n.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var n,e;return function(r){n||(n={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(t,n){return e(r.a,o[t],n)},delegateYield:function(t,o,i){return n.resultName=o,e(r.d,Ue(t),i)},finish:function(t){return e(r.f,t)}},e=function(t,e,o){r.p=n.prev,r.n=n.next;try{return t(e,o)}finally{n.next=r.n}}),n.resultName&&(n[n.resultName]=r.v,n.resultName=void 0),n.sent=r.v,n.next=r.n;try{return t.call(this,n)}finally{r.p=n.prev,r.n=n.next}}}return(Re=function(){return{wrap:function(n,e,r,o){return t.w(i(n),e,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,n){return new Qe(t,n)},AsyncIterator:Ke,async:function(t,n,e,o,a){return(r(n)?ze:We)(i(t),n,e,o,a)},keys:Ve,values:Ue}})()}function Ue(t){if(null!=t){var n=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(qe(t)+" is not iterable")}function Ve(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function We(t,n,e,r,o){var i=ze(t,n,e,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function ze(t,n,e,r,o){return new Ke(Je().w(t,n,e,r),o||Promise)}function Ke(t,n){function e(r,o,i,a){try{var u=t[r](o),c=u.value;return c instanceof Qe?n.resolve(c.v).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(c).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||($e(Ke.prototype),$e(Ke.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),$e(this,"_invoke",(function(t,o,i){function a(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(a,a):a()}),!0)}function Je(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,f=Object.create(c.prototype);return $e(f,"_invoke",function(e,r,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function y(e,r){for(u=e,c=r,n=0;!l&&f&&!o&&n<s.length;n++){var o,i=s[n],y=p.p,v=i[2];e>3?(o=v===r)&&(u=i[4]||3,c=i[5]===t?i[3]:i[5],i[4]=3,i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=r,p.n=i[1]):y<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,p.n=v,u=0))}if(o||e>1)return a;throw l=!0,r}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(n=u<2?t:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(l=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{f=1}}return{value:n,done:l}}}(e,o,i),!0),f}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):($e(n={},r,(function(){return this})),n),l=f.prototype=u.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,$e(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return c.prototype=f,$e(l,"constructor",f),$e(f,"constructor",c),c.displayName="GeneratorFunction",$e(f,o,"GeneratorFunction"),$e(l),$e(l,o,"Generator"),$e(l,r,(function(){return this})),$e(l,"toString",(function(){return"[object Generator]"})),(Je=function(){return{w:i,m:p}})()}function $e(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}$e=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){$e(t,n,(function(t){return this._invoke(n,e,t)}))};i("next",0),i("throw",1),i("return",2)}},$e(t,n,e,r)}function Qe(t,n){this.v=t,this.k=n}function Xe(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function Ze(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Xe(i,r,o,a,u,"next",t)}function u(t){Xe(i,r,o,a,u,"throw",t)}a(void 0)}))}}"startViewTransition"in document?window.addEventListener("hashchange",(function(){return document.startViewTransition(He)})):window.addEventListener("hashchange",He),window.addEventListener("route-change",He),window.dispatchEvent(new CustomEvent("route-change")),e(963),document.addEventListener("DOMContentLoaded",(function(){"default"===Notification.permission||"granted"===Notification.permission&&navigator.serviceWorker.ready.then((function(t){t.showNotification("Selamat datang kembali!")}))}));var tr=document.createElement("a");tr.href="#main-content",tr.className="skip-link",tr.innerText="Skip to Content",document.body.prepend(tr);var nr=document.querySelector("#main-content");function er(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),e=atob(n),r=new Uint8Array(e.length),o=0;o<e.length;++o)r[o]=e.charCodeAt(o);return r}tr.addEventListener("click",(function(t){t.preventDefault(),tr.blur(),nr&&(nr.focus(),nr.scrollIntoView())})),"startViewTransition"in document?window.addEventListener("hashchange",(function(){document.startViewTransition((function(){window.dispatchEvent(new CustomEvent("route-change"))}))})):window.addEventListener("hashchange",(function(){window.dispatchEvent(new CustomEvent("route-change"))})),window.addEventListener("route-change",(function(){var t=document.getElementById("app");"#/saved"===window.location.hash&&(t.innerHTML="",xe(t))})),window.dispatchEvent(new CustomEvent("route-change")),window.addEventListener("load",Ze(Re().mark((function t(){var n,e,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("serviceWorker"in navigator&&"PushManager"in window){t.next=3;break}return console.warn("Push notification tidak didukung browser ini."),t.abrupt("return");case 3:return t.prev=3,t.next=6,Notification.requestPermission();case 6:if("granted"===t.sent){t.next=10;break}return console.log("Izin notifikasi ditolak."),t.abrupt("return");case 10:return t.next=12,navigator.serviceWorker.ready;case 12:return n=t.sent,t.next=15,n.pushManager.getSubscription();case 15:if(e=t.sent){t.next=20;break}return t.next=19,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:er("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")});case 19:e=t.sent;case 20:return r=localStorage.getItem("token"),t.next=23,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(e)});case 23:console.log("Push subscription berhasil dan terkirim ke server"),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(3),console.error("Gagal mengaktifkan push notification:",t.t0);case 29:case"end":return t.stop()}}),t,null,[[3,26]])}))))})()})();